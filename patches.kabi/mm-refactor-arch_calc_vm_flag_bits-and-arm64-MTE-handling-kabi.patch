From: Vlastimil Babka <vbabka@suse.cz>
Subject: kabi, mm: refactor arch_calc_vm_flag_bits() and arm64 MTE handling
Patch-mainline: Never, kabi
References: git-fixes kabi

Deal with "became defined" kabi break.

Signed-off-by: Vlastimil Babka <vbabka@suse.cz>
---
 arch/arm64/include/asm/mman.h |    2 ++
 include/linux/mman.h          |    2 ++
 2 files changed, 4 insertions(+)

--- a/arch/arm64/include/asm/mman.h
+++ b/arch/arm64/include/asm/mman.h
@@ -3,8 +3,10 @@
 #define __ASM_MMAN_H__
 
 #include <linux/compiler.h>
+#ifndef __GENKSYMS__
 #include <linux/fs.h>
 #include <linux/shmem_fs.h>
+#endif
 #include <linux/types.h>
 #include <uapi/asm/mman.h>
 
--- a/include/linux/mman.h
+++ b/include/linux/mman.h
@@ -2,7 +2,9 @@
 #ifndef _LINUX_MMAN_H
 #define _LINUX_MMAN_H
 
+#ifndef __GENKSYMS__
 #include <linux/fs.h>
+#endif
 #include <linux/mm.h>
 #include <linux/percpu_counter.h>
 
