From: Takashi Iwai <tiwai@suse.de>
Subject: kABI workaround for soc_mixer_control changes
Patch-mainline: Never, kABI workaround
References: git-fixes

The patch
  patches.suse/ASoC-ops-Consistently-treat-platform_max-as-control-.patch
modified the struct soc_mixer_control definitions slightly that seems
breaking kABI in a subtle way.

Restore the original definitions with the standard ifdef for kABI
compatibility.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/sound/soc.h |    4 ++++
 1 file changed, 4 insertions(+)

--- a/include/sound/soc.h
+++ b/include/sound/soc.h
@@ -1175,10 +1175,14 @@ void snd_soc_close_delayed_work(struct s
 
 /* mixer control */
 struct soc_mixer_control {
+#ifdef __GENKSYMS__
+	int min, max, platform_max;
+#else
 	/* Minimum and maximum specified as written to the hardware */
 	int min, max;
 	/* Limited maximum value specified as presented through the control */
 	int platform_max;
+#endif
 	int reg, rreg;
 	unsigned int shift, rshift;
 	unsigned int sign_bit;
