From: Vlastimil Babka <vbabka@suse.cz>
Subject: kabi: fix of_reserved_mem_* due to struct vm_struct became defined
Patch-mainline: Never, KABI fix
References: jsc#PED-7167

Due to added #include <linux/kmemleak.h> we get kabi failures like:
of_reserved_mem_lookup: modversion changed because of changes in struct vm_struct (became defined)
Guard the include.

Signed-off-by: Vlastimil Babka <vbabka@suse.cz>
---
 drivers/of/of_reserved_mem.c |    2 ++
 1 file changed, 2 insertions(+)

--- a/drivers/of/of_reserved_mem.c
+++ b/drivers/of/of_reserved_mem.c
@@ -21,7 +21,9 @@
 #include <linux/sort.h>
 #include <linux/slab.h>
 #include <linux/memblock.h>
+#ifndef __GENKSYMS__
 #include <linux/kmemleak.h>
+#endif
 
 #include "of_private.h"
 
