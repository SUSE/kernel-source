From: Takashi Iwai <tiwai@suse.de>
Subject: kABI workaround for hid quirks
Patch-mainline: Never, kABI workaround
References: git-fixes

Move the newly added field in hid_device to the tail and wrap with
the standard ifdef for kABI compatibility.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/linux/hid.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

--- a/include/linux/hid.h
+++ b/include/linux/hid.h
@@ -599,7 +599,6 @@ struct hid_device {							/* device repo
 	unsigned long status;						/* see STAT flags above */
 	unsigned claimed;						/* Claimed by hidinput, hiddev? */
 	unsigned quirks;						/* Various quirks the device can pull on us */
-	unsigned initial_quirks;					/* Initial set of quirks supplied when creating device */
 	bool io_started;						/* If IO has started */
 
 	struct list_head inputs;					/* The list of inputs */
@@ -630,6 +629,9 @@ struct hid_device {							/* device repo
 	struct list_head debug_list;
 	spinlock_t  debug_list_lock;
 	wait_queue_head_t debug_wait;
+#ifndef __GENKSYMS__
+	unsigned initial_quirks;					/* Initial set of quirks supplied when creating device */
+#endif
 };
 
 #define to_hid_device(pdev) \
