From 9e72dad12f9fd49905c13803a7a04f4f12dae67a Mon Sep 17 00:00:00 2001
From: Oliver Neukum <oneukum@suse.com>
Date: Wed, 24 Sep 2025 07:53:25 +0200
Subject: [PATCH] struct ci_hdrc: new member has_short_pkt_limit to end
Patch-mainline: Never (kABI fixup)
References: git-fixes

struct ci_hdrc i centrally allocated in ci_hdrc_probe()
We can put new members at the end.

Signed-off-by: Oliver Neukum <oneukum@suse.com>
Reviewed-by: Michal Koutn√Ω <mkoutny@suse.com>
---
 drivers/usb/chipidea/ci.h | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/drivers/usb/chipidea/ci.h b/drivers/usb/chipidea/ci.h
index a003dfc20..422b885f1 100644
--- a/drivers/usb/chipidea/ci.h
+++ b/drivers/usb/chipidea/ci.h
@@ -260,12 +260,14 @@ struct ci_hdrc {
 	bool				b_sess_valid_event;
 	bool				imx28_write_fix;
 	bool				has_portsc_pec_bug;
-	bool				has_short_pkt_limit;
 	bool				supports_runtime_pm;
 	bool				in_lpm;
 	bool				wakeup_int;
 	enum ci_revision		rev;
 	struct mutex                    mutex;
+#ifndef __GENKSYMS__
+	bool				has_short_pkt_limit;
+#endif
 };
 
 static inline struct ci_role_driver *ci_role(struct ci_hdrc *ci)
-- 
2.51.0

