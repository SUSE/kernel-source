From: Michal Koutný <mkoutny@suse.com>
Date: Thu, 13 Jun 2024 19:12:33 +0200
Subject: restore fork includes
Patch-mainline: Never, kABI workaround
References: bsc#1234098

Add include causes
  kernel/fork.c:476: warning: free_task: modversion changed because of changes in
  struct fwnode_handle (became defined), struct device_node (became defined),
  struct acpi_device_id (became defined), struct of_device_id (became defined)

Fix it by hiding the include from genrator.

Signed-off-by: Michal Koutný <mkoutny@suse.com>
---
 kernel/fork.c |    2 ++
 1 file changed, 2 insertions(+)

--- a/kernel/fork.c
+++ b/kernel/fork.c
@@ -97,7 +97,9 @@
 #include <linux/io_uring.h>
 #include <linux/bpf.h>
 #include <linux/sched/mm.h>
+#ifndef __GENKSYMS__
 #include <linux/tick.h>
+#endif
 
 #include <asm/pgalloc.h>
 #include <linux/uaccess.h>
