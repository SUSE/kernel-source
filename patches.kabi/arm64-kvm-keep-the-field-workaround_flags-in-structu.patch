From 6b26d84c6627e2d6ec0ec783e688af18f9f6d54d Mon Sep 17 00:00:00 2001
From: Li Zhang <lizhang@suse.de>
Date: Mon, 21 Feb 2022 11:58:38 +0100
Subject: [PATCH 1/1] arm64: kvm: keep the field workaround_flags in structure
 kvm_vcpu_arch
Patch-mainline: Never, kabi
References: git-fixes

Keep the field workaround_flags in case it is used by external modules.

Signed-off-by: Li Zhang <lizhang@suse.de>
---
 arch/arm64/include/asm/kvm_host.h | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/arm64/include/asm/kvm_host.h b/arch/arm64/include/asm/kvm_host.h
index f1befe8d12e3..214ccaf3844f 100644
--- a/arch/arm64/include/asm/kvm_host.h
+++ b/arch/arm64/include/asm/kvm_host.h
@@ -294,6 +294,9 @@ struct kvm_vcpu_arch {
 	/* Exception Information */
 	struct kvm_vcpu_fault_info fault;
 
+       /* State of various workarounds, see kvm_asm.h for bit assignment */
+       u64 workaround_flags;
+
 	/* Miscellaneous vcpu state flags */
 	u64 flags;
 
-- 
2.31.1

