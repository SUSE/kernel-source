From: "Ivan T. Ivanov" <iivanov@suse.de>
Date: Mon, 24 Oct 2022 21:35:12 +0300
Subject: kABI: arm64/crypto/sha512 Preserve function signature
Patch-mainline: Never, kABI workaround
References: git-fixes

Assembler function implementation has not been changed.
Caller of the function passes u64 aligned pointer anyway.
Roll-back old function prototype declaration to avoid
kABI breakage after patch [1].

[1] 6320a15e98301 ("crypto: arm64/sha - fix function types")

Signed-off-by: Ivan T. Ivanov <iivanov@suse.de>
---
 arch/arm64/crypto/sha512-glue.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm64/crypto/sha512-glue.c b/arch/arm64/crypto/sha512-glue.c
index 2acff1c7df5d..2441d5f977bd 100644
--- a/arch/arm64/crypto/sha512-glue.c
+++ b/arch/arm64/crypto/sha512-glue.c
@@ -19,14 +19,14 @@ MODULE_LICENSE("GPL v2");
 MODULE_ALIAS_CRYPTO("sha384");
 MODULE_ALIAS_CRYPTO("sha512");
 
-asmlinkage void sha512_block_data_order(u64 *digest, const void *data,
+asmlinkage void sha512_block_data_order(u32 *digest, const void *data,
 					unsigned int num_blks);
 EXPORT_SYMBOL(sha512_block_data_order);
 
 static void __sha512_block_data_order(struct sha512_state *sst, u8 const *src,
 				      int blocks)
 {
-	sha512_block_data_order(sst->state, src, blocks);
+	sha512_block_data_order((u32 *) sst->state, src, blocks);
 }

 static int sha512_update(struct shash_desc *desc, const u8 *data,
--
2.35.3

