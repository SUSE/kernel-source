From 36b25eb9b583a734d0d2d5764c16b3c516d28a29 Mon Sep 17 00:00:00 2001
From: Michal Suchanek <msuchanek@suse.de>
Date: Fri, 23 Sep 2022 19:16:17 +0200
Subject: [PATCH] kABI: x86: kexec: hide new include from genksyms

References: bsc#1196444
Signed-off-by: Michal Suchanek <msuchanek@suse.de>
---
 arch/x86/include/asm/kexec.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/arch/x86/include/asm/kexec.h b/arch/x86/include/asm/kexec.h
index 367da081f7d9..e5fba0be9497 100644
--- a/arch/x86/include/asm/kexec.h
+++ b/arch/x86/include/asm/kexec.h
@@ -22,7 +22,9 @@
 
 #include <linux/string.h>
 #include <linux/kernel.h>
+#ifndef __GENKSYMS__
 #include <linux/module.h>
+#endif
 
 #include <asm/page.h>
 #include <asm/ptrace.h>
-- 
2.35.3

