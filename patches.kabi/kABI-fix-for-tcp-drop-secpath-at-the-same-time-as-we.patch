From: Steffen Jaeckel <sjaeckel@suse.de>
Subject: kABI fix for tcp: drop secpath at the same time as we currently drop
Patch-mainline: Never, kABI workaround
References: CVE-2025-21864 bsc#1239482

Upstream commit 9b6412e6979f ("tcp: drop secpath at the same
time as we currently drop dst") introduced a new include which breaks
kABI. This patch hides the include from kABI checker.

Signed-off-by: Steffen Jaeckel <sjaeckel@suse.de>
Acked-by: Steffen Jaeckel <sjaeckel@suse.de>

---
 include/net/tcp.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/include/net/tcp.h b/include/net/tcp.h
index 6af4493212a23..874921addf3d3 100644
--- a/include/net/tcp.h
+++ b/include/net/tcp.h
@@ -40,7 +40,9 @@
 #include <net/inet_ecn.h>
 #include <net/dst.h>
 #include <net/mptcp.h>
+#ifndef __GENKSYMS__
 #include <net/xfrm.h>
+#endif
 
 #include <linux/seq_file.h>
 #include <linux/memcontrol.h>
-- 
2.47.1

