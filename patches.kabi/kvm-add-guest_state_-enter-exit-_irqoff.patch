Patch-mainline: never, kabi fix
References: git-fixes
From: Juergen Gross <jgross@suse.com>
Date: Tue, 15 Oct 2024 11:29:22 +0000
Subject: [PATCH] kabi: fix after kvm: add guest_state_{enter,exit}_irqoff()

Fix kABI, which changed due to some structures becoming defined after
adding additional #include statements.

Signed-off-by: Juergen Gross <jgross@suse.com>
---
diff --git a/include/linux/kvm_host.h b/include/linux/kvm_host.h
index f079820f52b5..b3810976a27f 100644
--- a/include/linux/kvm_host.h
+++ b/include/linux/kvm_host.h
@@ -29,8 +29,10 @@
 #include <linux/refcount.h>
 #include <linux/nospec.h>
 #include <linux/notifier.h>
+#ifndef __GENKSYMS__
 #include <linux/ftrace.h>
 #include <linux/instrumentation.h>
+#endif
 #include <asm/signal.h>
 
 #include <linux/kvm.h>
-- 
2.43.0

