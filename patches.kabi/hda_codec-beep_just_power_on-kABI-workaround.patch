From: Takashi Iwai <tiwai@suse.de>
Subject: kABI workaround for hda_codec.beep_just_power_on flag
Patch-mainline: Never, kABI workaround
References: git-fixes

The patch ALSA-hda-realtek-Enable-PC-beep-passthrough-for-HP-E.patch
added a new bool flag beep_just_power_on to struct hda_codec.
Move it as a bit flag guarded with the standard ifdef for keeping
kABI compatibility.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/sound/hda_codec.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

--- a/include/sound/hda_codec.h
+++ b/include/sound/hda_codec.h
@@ -195,7 +195,6 @@ struct hda_codec {
 	/* beep device */
 	struct hda_beep *beep;
 	unsigned int beep_mode;
-	bool beep_just_power_on;
 
 	/* widget capabilities cache */
 	u32 *wcaps;
@@ -257,6 +256,9 @@ struct hda_codec {
 	unsigned int forced_resume:1; /* forced resume for jack */
 	unsigned int no_stream_clean_at_suspend:1; /* do not clean streams at suspend */
 	unsigned int ctl_dev_id:1; /* old control element id build behaviour */
+#ifndef __GENKSYMS__
+	unsigned int beep_just_power_on:1;
+#endif
 
 	unsigned long power_on_acct;
 	unsigned long power_off_acct;
