From f47d96020d13394c05dbd622163f99fe7bd083c8 Mon Sep 17 00:00:00 2001
From: Oliver Neukum <oneukum@suse.com>
Date: Mon, 23 Jan 2023 12:09:15 +0100
Subject: [PATCH] ath11k_hwparams: hide new member spectral
Patch-mainline: Never (kABI fixup)
References: bsc#1199701 CVE-2020-24588

Move it to the end

Signed-off-by: Oliver Neukum <oneukum@suse.com>
---
 drivers/net/wireless/ath/ath11k/hw.h |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

--- a/drivers/net/wireless/ath/ath11k/hw.h
+++ b/drivers/net/wireless/ath/ath11k/hw.h
@@ -158,14 +158,6 @@ struct ath11k_hw_params {
 	bool vdev_start_delay;
 	bool htt_peer_map_v2;
 
-	struct {
-		u8 fft_sz;
-		u8 fft_pad_sz;
-		u8 summary_pad_sz;
-		u8 fft_hdr_len;
-		u16 max_fft_bins;
-	} spectral;
-
 	u16 interface_modes;
 	bool supports_monitor;
 	bool supports_shadow_regs;
@@ -175,6 +167,14 @@ struct ath11k_hw_params {
 	u32 hal_desc_sz;
 	bool fix_l1ss;
 #ifndef __GENKSYMS__
+	struct {
+		u8 fft_sz;
+		u8 fft_pad_sz;
+		u8 summary_pad_sz;
+		u8 fft_hdr_len;
+		u16 max_fft_bins;
+	} spectral;
+
 	u8 max_tx_ring;
 	bool supports_dynamic_smps_6ghz;
 	const struct ath11k_hw_hal_params *hal_params;
