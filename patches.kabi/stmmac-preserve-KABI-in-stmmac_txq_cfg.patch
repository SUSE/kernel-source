From 12d367cb6247d502fad390f68d99fef67f982ffb Mon Sep 17 00:00:00 2001
From: Denis Kirjanov <denis.kirjanov@suse.com>
Date: Mon, 11 Mar 2024 13:09:21 +0300
Subject: [PATCH 02/35] stmmac: preserve KABI in stmmac_txq_cfg
Patch-mainline: never, kabi
References: git-fixes

Signed-off-by: Denis Kirjanov <denis.kirjanov@suse.com>
---
 include/linux/stmmac.h | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/include/linux/stmmac.h b/include/linux/stmmac.h
index 9ce63047f533..795cc55b308a 100644
--- a/include/linux/stmmac.h
+++ b/include/linux/stmmac.h
@@ -137,7 +137,6 @@ struct stmmac_rxq_cfg {
 
 struct stmmac_txq_cfg {
 	u32 weight;
-	bool coe_unsupported;
 	u8 mode_to_use;
 	/* Credit Base Shaper parameters */
 	u32 send_slope;
@@ -147,6 +146,9 @@ struct stmmac_txq_cfg {
 	bool use_prio;
 	u32 prio;
 	int tbs_en;
+#ifndef __GENKSYMS__
+	bool coe_unsupported;
+#endif
 };
 
 /* FPE link state */
-- 
2.16.4

