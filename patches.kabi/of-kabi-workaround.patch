From: Takashi Iwai <tiwai@suse.de>
Subject: kABI workaround for of driver changes
Patch-mainline: Never, kABI workaround
References: git-fixes

The inclusion of linux/device.h made kABI broken.
Just wrap the inclusion for avoiding it.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/of/dynamic.c |    2 ++
 1 file changed, 2 insertions(+)

--- a/drivers/of/dynamic.c
+++ b/drivers/of/dynamic.c
@@ -9,7 +9,9 @@
 
 #define pr_fmt(fmt)	"OF: " fmt
 
+#ifndef __GENKSYMS__
 #include <linux/device.h>
+#endif
 #include <linux/of.h>
 #include <linux/spinlock.h>
 #include <linux/slab.h>
