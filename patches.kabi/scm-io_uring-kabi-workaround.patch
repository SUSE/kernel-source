From: Gabriel Krisman Bertazi <krisman@suse.de>
Subject: scm: io_uring kABI workaround
Patch-mainline: Never, kABI workaround
References: bsc#1218447 CVE-2023-6531

A workaround for kABI breakage in
  patches.suse/io_uring-af_unix-disable-sending-io_uring-over-socke.patch
due to new inclusion of linux/io_uring.h

Signed-off-by: Gabriel Krisman Bertazi <krisman@suse.de>
---
 net/core/scm.c |    3 +++
 1 file changed, 3 insertions(+)

--- a/net/core/scm.c
+++ b/net/core/scm.c
@@ -26,7 +26,10 @@
 #include <linux/nsproxy.h>
 #include <linux/slab.h>
 #include <linux/errqueue.h>
+
+#ifndef __GENKSYMS__
 #include <linux/io_uring.h>
+#endif
 
 #include <linux/uaccess.h>
 
