From: Takashi Iwai <tiwai@suse.de>
Subject: kABI workaround for l2cap_conn changes
Patch-mainline: Never, kABI workaround
References: git-fixes

The patch
  patches.suse/Bluetooth-L2CAP-Fix-corrupted-list-in-hci_chan_del.patch
renamed the l2cap_conn.chan_lock to lock.
Renamed back to the original name for keeping kABI compatibility with
the standard ifdef.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/net/bluetooth/l2cap.h |    4 ++++
 1 file changed, 4 insertions(+)

--- a/include/net/bluetooth/l2cap.h
+++ b/include/net/bluetooth/l2cap.h
@@ -668,7 +668,11 @@ struct l2cap_conn {
 	struct l2cap_chan	*smp;
 
 	struct list_head	chan_l;
+#ifdef __GENKSYMS__
+	struct mutex		chan_lock;
+#else
 	struct mutex		lock;
+#endif
 	struct kref		ref;
 	struct list_head	users;
 };
