Patch-mainline: never, kabi fix
References: git-fixes
From: Juergen Gross <jgross@suse.com>
Date: Fri, 12 Oct 2024 12:28:16 +0000
Subject: [PATCH] kab: fix after net: add more sanity check in virtio_net_hdr_to_skb()

Fix kABI, which changed due to some structures becoming defined after
adding additional #include statements.

Signed-off-by: Juergen Gross <jgross@suse.com>
---
diff --git a/include/linux/virtio_net.h b/include/linux/virtio_net.h
index 27cc1d464321..4dfa9b69ca8d 100644
--- a/include/linux/virtio_net.h
+++ b/include/linux/virtio_net.h
@@ -3,8 +3,10 @@
 #define _LINUX_VIRTIO_NET_H
 
 #include <linux/if_vlan.h>
+#ifndef __GENKSYMS__
 #include <linux/ip.h>
 #include <linux/ipv6.h>
+#endif
 #include <uapi/linux/tcp.h>
 #include <uapi/linux/udp.h>
 #include <uapi/linux/virtio_net.h>
-- 
2.35.3

