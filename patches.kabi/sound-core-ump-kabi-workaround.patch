From: Takashi Iwai <tiwai@suse.de>
Subject: kABI workaround for sound core UMP conversion
Patch-mainline: Never, kABI workaround
References: stable-fixes

The newly added fields to ump_cvt_to_ump changed the struct size and
broke kABI.  Pack them into bitfields.  (It's used only locally,
hence it's almost safe to ignore kABI.)

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/sound/ump_convert.h |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

--- a/include/sound/ump_convert.h
+++ b/include/sound/ump_convert.h
@@ -8,12 +8,17 @@
 struct ump_cvt_to_ump_bank {
 	bool rpn_set;
 	bool nrpn_set;
+#ifdef __GENKSYMS__
 	bool bank_set;
+#else
+	bool bank_set:1;
+	bool cc_data_msb_set:1;
+       	bool cc_data_lsb_set:1;
+#endif
 	unsigned char cc_rpn_msb, cc_rpn_lsb;
 	unsigned char cc_nrpn_msb, cc_nrpn_lsb;
 	unsigned char cc_data_msb, cc_data_lsb;
 	unsigned char cc_bank_msb, cc_bank_lsb;
-	bool cc_data_msb_set, cc_data_lsb_set;
 };
 
 /* context for converting from MIDI1 byte stream to UMP packet */
