From: Fernando Fernandez Mancera <fmancera@suse.de>
Subject: kABI: add back tx_stopped to kcm_sock struct
Patch-mainline: Never, kABI workaround
References: bsc#1249167 CVE-2025-38717

Bring back tx_stopped field to kcm_sock, even if it isn't used at all.

Signed-off-by: Fernando Fernandez Mancera <fmancera@suse.de>
Reviewed-by: Petr Pavlu <petr.pavlu@suse.com>
---
 include/net/kcm.h |    1 +
 1 file changed, 1 insertion(+)

--- a/include/net/kcm.h
+++ b/include/net/kcm.h
@@ -71,6 +71,7 @@ struct kcm_sock {
 	struct list_head wait_psock_list;
 	struct sk_buff *seq_skb;
 	struct mutex tx_mutex;
+	u32 tx_stopped : 1;
 
 	/* Don't use bit fields here, these are set under different locks */
 	bool tx_wait;
