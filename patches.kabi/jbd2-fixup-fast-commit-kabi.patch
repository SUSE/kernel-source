From: Jan Kara <jack@suse.cz>
Subject: jbd2: Fix up kABI of ext4 fast commit interface
References: bsc#1207590
Patch-mainline: Never, kABI

Nobody besides ext4 implements fast commit but still, even if somebody does,
it is safe to just ignore the additional function argument.

Signed-off-by: Jan Kara <jack@suse.cz>

---
 include/linux/jbd2.h |    4 ++++
 1 file changed, 4 insertions(+)

--- a/include/linux/jbd2.h
+++ b/include/linux/jbd2.h
@@ -1295,7 +1295,11 @@ struct journal_s
 	 * Clean-up after fast commit or full commit. JBD2 calls this function
 	 * after every commit operation.
 	 */
+#ifndef __GENKSYMS__
 	void (*j_fc_cleanup_callback)(struct journal_s *journal, int full, tid_t tid);
+#else
+	void (*j_fc_cleanup_callback)(struct journal_s *journal, int full);
+#endif
 
 	/**
 	 * @j_fc_replay_callback:
