From: Juergen Gross <jgross@suse.com>
Patch-mainline: never, kabi
References: git-fixes
Subject: [PATCH] kABI fix of KVM: x86: Snapshot if a vCPU's vendor model
 is AMD vs. Intel compatible

Move the KVM private is_amd_compatible member of struct kvm_vcpu_arch
into a padding hole.

Signed-off-by: Juergen Gross <jgross@suse.com>
---
diff --git a/arch/x86/include/asm/kvm_host.h b/arch/x86/include/asm/kvm_host.h
index 16e07a2eee19..6efd1497b026 100644
--- a/arch/x86/include/asm/kvm_host.h
+++ b/arch/x86/include/asm/kvm_host.h
@@ -840,6 +840,9 @@ struct kvm_vcpu_arch {
 	u8 event_exit_inst_len;
 
 	bool exception_from_userspace;
+#ifndef __GENKSYMS__
+	bool is_amd_compatible;
+#endif
 
 	/* Exceptions to be injected to the guest. */
 	struct kvm_queued_exception exception;
@@ -860,7 +863,6 @@ struct kvm_vcpu_arch {
 	int cpuid_nent;
 	struct kvm_cpuid_entry2 *cpuid_entries;
 	struct kvm_hypervisor_cpuid kvm_cpuid;
-	bool is_amd_compatible;
 
 	/*
 	 * FIXME: Drop this macro and use KVM_NR_GOVERNED_FEATURES directly
