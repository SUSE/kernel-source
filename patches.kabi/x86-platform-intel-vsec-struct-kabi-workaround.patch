From: Ali Abdallah <ali.abdallah@suse.de>
Subject: intel x86 platform vsec kABI workaround
Patch-mainline: Never, kABI workaround
References: bsc#1216202

Move intel_vsec_platform_info to the end of intel_vsec_device to preserve kABI.
intel_vsec_device is only used by VSEC aux driver (telemetry, crashlog, ...) 

Acked-by: Ali Abdallah <ali.abdallah@suse.de>

---
 drivers/platform/x86/intel/vsec.h |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

--- a/drivers/platform/x86/intel/vsec.h
+++ b/drivers/platform/x86/intel/vsec.h
@@ -36,10 +36,13 @@ struct intel_vsec_device {
 	struct pci_dev *pcidev;
 	struct resource *resource;
 	struct ida *ida;
-	struct intel_vsec_platform_info *info;
+	unsigned long quirks;
 	int num_resources;
+#ifndef __GENKSYMS__
+	struct intel_vsec_platform_info *info;
 	void *priv_data;
 	size_t priv_data_size;
+#endif
 };
 
 int intel_vsec_add_aux(struct pci_dev *pdev, struct device *parent,
