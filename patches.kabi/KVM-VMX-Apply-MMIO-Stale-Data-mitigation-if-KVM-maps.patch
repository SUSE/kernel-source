From: Juergen Gross <jgross@suse.com>
Subject: kABI fix after KVM: VMX: Apply MMIO Stale Data mitigation if
 KVM maps MMIO into the guest
Patch-mainline: Never, kABI workaround
References: git-fixes

Move has_mapped_host_mmio into a padding hole.

Signed-off-by: Juergen Gross <jgross@suse.com>
---
diff --git a/arch/x86/include/asm/kvm_host.h b/arch/x86/include/asm/kvm_host.h
--- a/arch/x86/include/asm/kvm_host.h
+++ b/arch/x86/include/asm/kvm_host.h
@@ -1448,7 +1448,6 @@ struct kvm_arch {
 	bool x2apic_format;
 	bool x2apic_broadcast_quirk_disabled;
 
-	bool has_mapped_host_mmio;
 	bool guest_can_read_msr_platform_info;
 	bool exception_payload_enabled;
 
@@ -1456,6 +1455,9 @@ struct kvm_arch {
 
 	bool bus_lock_detection_enabled;
 	bool enable_pmu;
+#ifndef __GENKSYMS__
+	bool has_mapped_host_mmio;
+#endif
 
 	u32 notify_window;
 	u32 notify_vmexit_flags;
