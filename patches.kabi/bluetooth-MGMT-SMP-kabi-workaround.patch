From: Takashi Iwai <tiwai@suse.de>
Subject: Restore dropped fields for bluetooth MGMT/SMP structs
Patch-mainline: Never, kABI workaround
References: git-fixes

The patch Revert-Bluetooth-MGMT-SMP-Fix-address-type-when-usin.patch
dropped the fields of exposed symbols.
Restore them for kABI compatibility.

Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/net/bluetooth/hci_core.h |    5 +++++
 1 file changed, 5 insertions(+)

--- a/include/net/bluetooth/hci_core.h
+++ b/include/net/bluetooth/hci_core.h
@@ -189,6 +189,7 @@ struct blocked_key {
 struct smp_csrk {
 	bdaddr_t bdaddr;
 	u8 bdaddr_type;
+	u8 link_type; /* FIXME: kABI placeholder */
 	u8 type;
 	u8 val[16];
 };
@@ -198,6 +199,7 @@ struct smp_ltk {
 	struct rcu_head rcu;
 	bdaddr_t bdaddr;
 	u8 bdaddr_type;
+	u8 link_type; /* FIXME: kABI placeholder */
 	u8 authenticated;
 	u8 type;
 	u8 enc_size;
@@ -212,6 +214,7 @@ struct smp_irk {
 	bdaddr_t rpa;
 	bdaddr_t bdaddr;
 	u8 addr_type;
+	u8 link_type; /* FIXME: kABI placeholder */
 	u8 val[16];
 };
 
@@ -219,6 +222,8 @@ struct link_key {
 	struct list_head list;
 	struct rcu_head rcu;
 	bdaddr_t bdaddr;
+	u8 bdaddr_type; /* FIXME: kABI placeholder */
+	u8 link_type; /* FIXME: kABI placeholder */
 	u8 type;
 	u8 val[HCI_LINK_KEY_SIZE];
 	u8 pin_len;
