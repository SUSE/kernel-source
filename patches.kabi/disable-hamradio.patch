From: Michal Hocko <mhocko@suse.com>
Subject: drop hamradio drivers
Patch-mainline: never, kabi fixup
References: bsc#1238471

In order to disable AX25 we need to disable also HAMRADIO drivers family
because they rely on symbols exported by AX25. Disabling CONFIG_HAMRADIO
is not possible for similar reasons as AX25 because that would alter other
core drivers structures hence use the same approach as in patches.kabi/disable-ax25.patch.

These drivers are not supported so we do not distribute them anymore
supported.conf:-!optional	drivers/net/hamradio/6pack
supported.conf:-!optional	drivers/net/hamradio/baycom_epp					# armv7hl
supported.conf:-!optional	drivers/net/hamradio/baycom_par
supported.conf:-!optional	drivers/net/hamradio/baycom_ser_fdx
supported.conf:-!optional	drivers/net/hamradio/baycom_ser_hdx
supported.conf:-!optional	drivers/net/hamradio/bpqether
supported.conf:-!optional	drivers/net/hamradio/hdlcdrv
supported.conf:-!optional	drivers/net/hamradio/mkiss
supported.conf:-!optional	drivers/net/hamradio/yam

Signed-off-by: Michal Hocko <mhocko@suse.com>
---
 drivers/net/Makefile |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/net/Makefile
+++ b/drivers/net/Makefile
@@ -46,7 +46,7 @@ obj-y += dsa/
 obj-$(CONFIG_ETHERNET) += ethernet/
 obj-$(CONFIG_FDDI) += fddi/
 obj-$(CONFIG_HIPPI) += hippi/
-obj-$(CONFIG_HAMRADIO) += hamradio/
+obj-$(CONFIG_HAMRADIO_REMOVED) += hamradio/
 obj-$(CONFIG_PLIP) += plip/
 obj-$(CONFIG_PPP) += ppp/
 obj-$(CONFIG_PPP_ASYNC) += ppp/
