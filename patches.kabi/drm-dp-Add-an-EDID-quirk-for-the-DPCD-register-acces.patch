From: Takashi Iwai <tiwai@suse.de>
Subject: kABI workaround for "drm/dp: Add an EDID quirk for the DPCD register access probe"
Patch-mainline: Never, kABI workaround
References: bsc#1248121

The backport of the commit b87ed522b364 added a new bool flag into
struct drm_dp_aux, which broke kABI.
Fortunately there is a hole at the put position, so just wrap with the
standard __GENKSYMS__ ifdef to hide it.

Reviewed-by: Petr Pavlu <petr.pavlu@suse.com>
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/drm/display/drm_dp_helper.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/drm/display/drm_dp_helper.h
+++ b/include/drm/display/drm_dp_helper.h
@@ -519,10 +519,12 @@ struct drm_dp_aux {
 	 */
 	bool powered_down;
 
+#ifndef __GENKSYMS__
 	/**
 	 * @dpcd_probe_disabled: If probing before a DPCD access is disabled.
 	 */
 	bool dpcd_probe_disabled;
+#endif
 
 	void *suse_kabi_padding;
 };
