Patch-mainline: never, kabi fix
References: git-fixes
From: Juergen Gross <jgross@suse.com>
Date: Mon, 14 Oct 2024 20:19:23 -0700
Subject: [PATCH] kabi: fix after KVM: arm64: mixed-width check should
 be skipped for uninitialized vCPUs

Fix kABI, which changed due to some structures becoming defined after
adding additional #include statements.

Signed-off-by: Juergen Gross <jgross@suse.com>
---
diff --git a/arch/arm64/include/asm/kvm_host.h b/arch/arm64/include/asm/kvm_host.h
index e3b25dc6c367..94a27a7520f4 100644
--- a/arch/arm64/include/asm/kvm_host.h
+++ b/arch/arm64/include/asm/kvm_host.h
@@ -133,8 +133,10 @@ struct kvm_arch {
 	 * Otherwise, the guest's EL1 register width has not yet been
 	 * determined yet.
 	 */
+#ifndef __GENKSYMS__
 	bool el1_32bit;
 	bool reg_width_configured;
+#endif
 
 	/*
 	 * VM-wide PMU filter, implemented as a bitmap and big enough for
-- 
2.35.3

