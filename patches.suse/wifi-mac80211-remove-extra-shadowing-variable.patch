From efa2cce6e272b36c7f9687385ef4fd538cc3bf51 Mon Sep 17 00:00:00 2001
From: Johannes Berg <johannes.berg@intel.com>
Date: Wed, 31 Jan 2024 16:49:04 +0100
Subject: [PATCH] wifi: mac80211: remove extra shadowing variable
Git-commit: efa2cce6e272b36c7f9687385ef4fd538cc3bf51
Patch-mainline: v6.9-rc1
References: jsc#PED-10412

Not sure how this happened or how nothing complained, but
this variable already exists in the outer function scope
with the same value (and the SKB isn't changed either.)
Remove the extra one.

Signed-off-by: Johannes Berg <johannes.berg@intel.com>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 net/mac80211/rx.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/net/mac80211/rx.c b/net/mac80211/rx.c
index 615795c4b052..76798e8057f7 100644
--- a/net/mac80211/rx.c
+++ b/net/mac80211/rx.c
@@ -5214,7 +5214,6 @@ static void __ieee80211_rx_handle_packet(struct ieee80211_hw *hw,
 			 */
 
 			if (!status->link_valid && pubsta->mlo) {
-				struct ieee80211_hdr *hdr = (void *)skb->data;
 				struct link_sta_info *link_sta;
 
 				link_sta = link_sta_info_get_bss(rx.sdata,
-- 
2.43.0

