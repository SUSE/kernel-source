From: Steffen Maier <maier@linux.ibm.com>
Date: Tue, 19 Oct 2021 15:02:30 +0200
Subject: [PATCH] block: add documentation for inflight requests
Git-commit: 7b5f80123104d8dd68d3348e20d9b56fe3a9ee77
Patch-mainline: v5.16-rc1
References: jsc#PED-818

Complements v2.6.32 commit a9327cac440b ("Seperate read and write
statistics of in_flight requests") and commit 316d315bffa4 ("block:
Seperate read and write statistics of in_flight requests v2").

Signed-off-by: Steffen Maier <maier@linux.ibm.com>
Reviewed-by: Jens Axboe <axboe@kernel.dk>
Link: https://lore.kernel.org/r/20211019130230.77594-1-maier@linux.ibm.com
Signed-off-by: Jonathan Corbet <corbet@lwn.net>
Acked-by: Hannes Reinecke <hare@suse.com>
---
 Documentation/ABI/testing/sysfs-block | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

diff --git a/Documentation/ABI/testing/sysfs-block b/Documentation/ABI/testing/sysfs-block
index a0ed87386639..b16b0c45a272 100644
--- a/Documentation/ABI/testing/sysfs-block
+++ b/Documentation/ABI/testing/sysfs-block
@@ -28,6 +28,22 @@ Description:
 		For more details refer Documentation/admin-guide/iostats.rst
 
 
+What:		/sys/block/<disk>/inflight
+Date:		October 2009
+Contact:	Jens Axboe <axboe@kernel.dk>, Nikanth Karthikesan <knikanth@suse.de>
+Description:
+		Reports the number of I/O requests currently in progress
+		(pending / in flight) in a device driver. This can be less
+		than the number of requests queued in the block device queue.
+		The report contains 2 fields: one for read requests
+		and one for write requests.
+		The value type is unsigned int.
+		Cf. Documentation/block/stat.rst which contains a single value for
+		requests in flight.
+		This is related to nr_requests in Documentation/block/queue-sysfs.rst
+		and for SCSI device also its queue_depth.
+
+
 What:		/sys/block/<disk>/diskseq
 Date:		February 2021
 Contact:	Matteo Croce <mcroce@microsoft.com>
-- 
2.35.3

