From: Minjie Du <duminjie@vivo.com>
Date: Wed, 5 Jul 2023 11:18:49 +0800
Subject: RDMA/qedr: Remove duplicate assignments of va
Patch-mainline: v6.6-rc1
Git-commit: 44725a87381353075273618eeedc9127e99c378e
References: jsc#PED-6864

Avoid double assignment of iwqp->ietf_mem.va.

Signed-off-by: Minjie Du <duminjie@vivo.com>
Link: https://lore.kernel.org/r/20230705031849.2443-1-duminjie@vivo.com
Signed-off-by: Leon Romanovsky <leon@kernel.org>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/hw/irdma/cm.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/infiniband/hw/irdma/cm.c
+++ b/drivers/infiniband/hw/irdma/cm.c
@@ -3627,7 +3627,6 @@ void irdma_free_lsmm_rsrc(struct irdma_q
 				  iwqp->ietf_mem.size, iwqp->ietf_mem.va,
 				  iwqp->ietf_mem.pa);
 		iwqp->ietf_mem.va = NULL;
-		iwqp->ietf_mem.va = NULL;
 	}
 }
 
