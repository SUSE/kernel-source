From: Roi Dayan <roid@nvidia.com>
Date: Wed, 10 Nov 2021 16:19:41 +0200
Subject: net/mlx5e: TC, Move comment about mod header flag to correct place
Patch-mainline: v5.17-rc1
Git-commit: fc3a879aea35fba713ae2d0fd42f2f2e7eaac1d9
References: jsc#PED-1549

Move the comment to the correct place where the driver actually
removes the flag and not in the check that maybe pedit actions exists.

Signed-off-by: Roi Dayan <roid@nvidia.com>
Reviewed-by: Maor Dickman <maord@nvidia.com>
Signed-off-by: Saeed Mahameed <saeedm@nvidia.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/mellanox/mlx5/core/en_tc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
@@ -3426,10 +3426,10 @@ actions_prepare_mod_hdr_actions(struct m
 	if (err)
 		return err;
 
-	/* In case all pedit actions are skipped, remove the MOD_HDR flag. */
 	if (parse_attr->mod_hdr_acts.num_actions > 0)
 		return 0;
 
+	/* In case all pedit actions are skipped, remove the MOD_HDR flag. */
 	attr->action &= ~MLX5_FLOW_CONTEXT_ACTION_MOD_HDR;
 	mlx5e_mod_hdr_dealloc(&parse_attr->mod_hdr_acts);
 
