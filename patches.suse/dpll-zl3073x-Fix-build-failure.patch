From: Ivan Vecera <ivecera@redhat.com>
Date: Sat, 26 Jul 2025 20:41:45 +0200
Subject: dpll: zl3073x: Fix build failure
Patch-mainline: v6.17-rc1
Git-commit: fa582ca7e187a15e772e6a72fe035f649b387a60
References: jsc#PED-13331

If CONFIG_ZL3073X is enabled but both CONFIG_ZL3073X_I2C and
CONFIG_ZL3073X_SPI are disabled, the compilation may fail because
CONFIG_REGMAP is not enabled.

Fix the issue by selecting CONFIG_REGMAP when CONFIG_ZL3073X is enabled.

Fixes: 2df8e64e01c10 ("dpll: Add basic Microchip ZL3073x support")
Signed-off-by: Ivan Vecera <ivecera@redhat.com>
Link: https://patch.msgid.link/20250726184145.25769-1-ivecera@redhat.com
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/dpll/zl3073x/Kconfig |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/dpll/zl3073x/Kconfig
+++ b/drivers/dpll/zl3073x/Kconfig
@@ -5,6 +5,7 @@ config ZL3073X
 	depends on NET
 	select DPLL
 	select NET_DEVLINK
+	select REGMAP
 	help
 	  This driver supports Microchip Azurite family DPLL/PTP/SyncE
 	  devices that support up to 5 independent DPLL channels,
