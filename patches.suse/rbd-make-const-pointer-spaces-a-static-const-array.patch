From: Colin Ian King <colin.i.king@googlemail.com>
Date: Sat, 27 Nov 2021 17:21:04 +0000
Subject: rbd: make const pointer spaces a static const array
Git-commit: 435a120a47eed0b3a1ac7b86cf1f7707bf2242ce
Patch-mainline: v5.17-rc1
References: jsc#SES-1880

Don't populate the const array spaces on the stack but make it static
const and make the pointer an array to remove a dereference. Shrinks
object code a little too.  Also clean up intent, currently it is spaces
and should be a tab.

Signed-off-by: Colin Ian King <colin.i.king@googlemail.com>
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Ilya Dryomov <idryomov@gmail.com>
Acked-by: Luis Henriques <lhenriques@suse.com>
---
 drivers/block/rbd.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/block/rbd.c b/drivers/block/rbd.c
index 909dbe6111bf..1bf1595420a8 100644
--- a/drivers/block/rbd.c
+++ b/drivers/block/rbd.c
@@ -6191,7 +6191,7 @@ static inline size_t next_token(const char **buf)
         * These are the characters that produce nonzero for
         * isspace() in the "C" and "POSIX" locales.
         */
-        const char *spaces = " \f\n\r\t\v";
+	static const char spaces[] = " \f\n\r\t\v";
 
         *buf += strspn(*buf, spaces);	/* Find start of token */
 

