From: Damien Le Moal <damien.lemoal@wdc.com>
Date: Mon, 16 Aug 2021 10:44:56 +0900
Subject: [PATCH] docs: sysfs-block-device: document ncq_prio_supported
Git-commit: f5975d18d46ae8485bb08161086e59360844840b
Patch-mainline: v5.15-rc1
References: jsc#PED-1183

Add documentation for the new device attribute file ncq_prio_supported,
and its SAS HBA equivalent sas_ncq_prio_supported.

Signed-off-by: Damien Le Moal <damien.lemoal@wdc.com>
Reviewed-by: Hannes Reinecke <hare@suse.de>
Link: https://lore.kernel.org/r/20210816014456.2191776-12-damien.lemoal@wdc.com
Signed-off-by: Jens Axboe <axboe@kernel.dk>
Acked-by: Hannes Reinecke <hare@suse.com>
---
 Documentation/ABI/testing/sysfs-block-device | 25 +++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

diff --git a/Documentation/ABI/testing/sysfs-block-device b/Documentation/ABI/testing/sysfs-block-device
index cf1013df4b92..7ac7b19b2f72 100644
--- a/Documentation/ABI/testing/sysfs-block-device
+++ b/Documentation/ABI/testing/sysfs-block-device
@@ -58,7 +58,8 @@ Description:
 		(RW) Write to the file to turn on or off the SATA NCQ (native
 		command queueing) priority support. By default this feature is
 		turned off. If the device does not support the SATA NCQ
-		priority feature, writing "1" to this file results in an error.
+		priority feature, writing "1" to this file results in an error
+		(see ncq_prio_supported).
 
 
 What:		/sys/block/*/device/sas_ncq_prio_enable
@@ -71,4 +72,26 @@ Description:
 		(HBA) implementing support for the SATA NCQ priority feature.
 		This file does not exist if the HBA driver does not implement
 		support for the SATA NCQ priority feature, regardless of the
+		device support for this feature (see sas_ncq_prio_supported).
+
+
+What:		/sys/block/*/device/ncq_prio_supported
+Date:		Aug, 2021
+KernelVersion:	v5.15
+Contact:	linux-ide@vger.kernel.org
+Description:
+		(RO) Indicates if the device supports the SATA NCQ (native
+		command queueing) priority feature.
+
+
+What:		/sys/block/*/device/sas_ncq_prio_supported
+Date:		Aug, 2021
+KernelVersion:	v5.15
+Contact:	linux-ide@vger.kernel.org
+Description:
+		(RO) This is the equivalent of the ncq_prio_supported attribute
+		file for SATA devices connected to a SAS host-bus-adapter
+		(HBA) implementing support for the SATA NCQ priority feature.
+		This file does not exist if the HBA driver does not implement
+		support for the SATA NCQ priority feature, regardless of the
 		device support for this feature.
-- 
2.35.3

