From: Steve French <stfrench@microsoft.com>
Date: Wed, 10 Nov 2021 03:09:52 -0600
Subject: [PATCH] smb3: remove trivial dfs compile warning
Git-commit: 0e62904836ecddf69b0358fe8f9442d3dd914c55
Patch-mainline: v5.16-rc1
References: bsc#1192606, jsc#SLE-20042

Fix warning caused by recent changes to the dfs code:

symbol 'tree_connect_dfs_target' was not declared. Should it be static?

Reviewed-by: Paulo Alcantara (SUSE) <pc@cjr.nz>
Signed-off-by: Steve French <stfrench@microsoft.com>
Acked-by: Enzo Matsumiya <ematsumiya@suse.de>
---
 fs/cifs/connect.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/fs/cifs/connect.c b/fs/cifs/connect.c
index 1ace46e3f16f..df3365958603 100644
--- a/fs/cifs/connect.c
+++ b/fs/cifs/connect.c
@@ -4139,7 +4139,7 @@ static int target_share_matches_server(struct TCP_Server_Info *server, const cha
 	return rc;
 }
 
-int __tree_connect_dfs_target(const unsigned int xid, struct cifs_tcon *tcon,
+static int __tree_connect_dfs_target(const unsigned int xid, struct cifs_tcon *tcon,
 			      struct cifs_sb_info *cifs_sb, char *tree,
 			      struct dfs_cache_tgt_list *tl, struct dfs_info3_param *ref)
 {
@@ -4238,7 +4238,7 @@ int __tree_connect_dfs_target(const unsigned int xid, struct cifs_tcon *tcon,
 	return rc;
 }
 
-int tree_connect_dfs_target(const unsigned int xid, struct cifs_tcon *tcon,
+static int tree_connect_dfs_target(const unsigned int xid, struct cifs_tcon *tcon,
 			    struct cifs_sb_info *cifs_sb, char *tree,
 			    struct dfs_cache_tgt_list *tl, struct dfs_info3_param *ref)
 {
-- 
2.33.1

