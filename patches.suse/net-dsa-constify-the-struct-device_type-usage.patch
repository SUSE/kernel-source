From: "Ricardo B. Marliere" <ricardo@marliere.net>
Date: Sat, 17 Feb 2024 17:13:24 -0300
Subject: net: dsa: constify the struct device_type usage
Patch-mainline: v6.9-rc1
Git-commit: 7e0acba3b49e3544b7ed170ca061001f0fdae839
References: bsc#1232178

Since commit aed65af1cc2f ("drivers: make device_type const"), the driver
core can properly handle constant struct device_type. Move the dsa_type
variable to be a constant structure as well, placing it into read-only
memory which can not be modified at runtime.

Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Signed-off-by: Ricardo B. Marliere <ricardo@marliere.net>
Reviewed-by: Florian Fainelli <florian.fainelli@broadcom.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 net/dsa/user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/net/dsa/user.c
+++ b/net/dsa/user.c
@@ -2429,7 +2429,7 @@ static const struct net_device_ops dsa_u
 	.ndo_fill_forward_path	= dsa_user_fill_forward_path,
 };
 
-static struct device_type dsa_type = {
+static const struct device_type dsa_type = {
 	.name	= "dsa",
 };
 
