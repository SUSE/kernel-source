From cfc46ca4fdcaef6f0215f56d89162400aee402e3 Mon Sep 17 00:00:00 2001
From: Rolf Eike Beer <eb@emlix.com>
Date: Wed, 19 Oct 2022 09:43:01 +0200
Subject: [PATCH] binfmt_elf: fix documented return value for load_elf_phdrs()
Git-commit: cfc46ca4fdcaef6f0215f56d89162400aee402e3
Patch-mainline: v6.2-rc1
References: git-fixes

This function has never returned anything but a plain NULL.

Fixes: 6a8d38945cf4 ("binfmt_elf: Hoist ELF program header loading to a function")
Signed-off-by: Rolf Eike Beer <eb@emlix.com>
Signed-off-by: Kees Cook <keescook@chromium.org>
Link: https://lore.kernel.org/r/2359389.EDbqzprbEW@mobilepool36.emlix.com
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 fs/binfmt_elf.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/fs/binfmt_elf.c b/fs/binfmt_elf.c
index 38a9496f83f3..71df1a3c2dac 100644
--- a/fs/binfmt_elf.c
+++ b/fs/binfmt_elf.c
@@ -456,7 +456,7 @@ static unsigned long maximum_alignment(struct elf_phdr *cmds, int nr)
  *
  * Loads ELF program headers from the binary file elf_file, which has the ELF
  * header pointed to by elf_ex, into a newly allocated array. The caller is
- * responsible for freeing the allocated data. Returns an ERR_PTR upon failure.
+ * responsible for freeing the allocated data. Returns NULL upon failure.
  */
 static struct elf_phdr *load_elf_phdrs(const struct elfhdr *elf_ex,
 				       struct file *elf_file)
-- 
2.35.3

