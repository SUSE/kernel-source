From 70920941923316b760bc7a804eb3d49a126d8712 Mon Sep 17 00:00:00 2001
From: Jiapeng Chong <jiapeng.chong@linux.alibaba.com>
Date: Wed, 18 Sep 2024 10:16:32 +0800
Subject: [PATCH 1/1] RDMA/bnxt_re: Remove the unused variable en_dev
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Git-commit: 70920941923316b760bc7a804eb3d49a126d8712
Patch-mainline: v6.12-rc1
References: jsc#PED-11232

Variable en_dev is not effectively used, so delete it.

drivers/infiniband/hw/bnxt_re/main.c:1980:22: warning: variable ‘en_dev’ set but not used.

Reported-by: Abaci Robot <abaci@linux.alibaba.com>
Closes: https://bugzilla.openanolis.cn/show_bug.cgi?id=10867
Signed-off-by: Jiapeng Chong <jiapeng.chong@linux.alibaba.com>
Link: https://patch.msgid.link/20240918021632.36091-1-jiapeng.chong@linux.alibaba.com
Signed-off-by: Leon Romanovsky <leon@kernel.org>
Acked-by: Nicolas Morey <nmorey@suse.com>
---
 drivers/infiniband/hw/bnxt_re/main.c | 2 --
 1 file changed, 2 deletions(-)

diff --git a/drivers/infiniband/hw/bnxt_re/main.c b/drivers/infiniband/hw/bnxt_re/main.c
index adff9e494c9d..777068de4bbc 100644
--- a/drivers/infiniband/hw/bnxt_re/main.c
+++ b/drivers/infiniband/hw/bnxt_re/main.c
@@ -1977,7 +1977,6 @@ static void bnxt_re_remove_device(struct bnxt_re_dev *rdev, u8 op_type,
 static void bnxt_re_remove(struct auxiliary_device *adev)
 {
 	struct bnxt_re_en_dev_info *en_info = auxiliary_get_drvdata(adev);
-	struct bnxt_en_dev *en_dev;
 	struct bnxt_re_dev *rdev;
 
 	mutex_lock(&bnxt_re_mutex);
@@ -1985,7 +1984,6 @@ static void bnxt_re_remove(struct auxiliary_device *adev)
 		mutex_unlock(&bnxt_re_mutex);
 		return;
 	}
-	en_dev = en_info->en_dev;
 	rdev = en_info->rdev;
 
 	if (rdev)
-- 
2.45.2.1.g5c866cf9507b

