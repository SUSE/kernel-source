From 4f4e7112666b5aa1f179b4046299f85c09b46821 Mon Sep 17 00:00:00 2001
From: Takashi Iwai <tiwai@suse.de>
Date: Mon, 5 Jun 2023 16:47:57 +0200
Subject: [PATCH] ALSA: usb-audio: Use __le16 for 16bit USB descriptor fields
Git-commit: 4f4e7112666b5aa1f179b4046299f85c09b46821
Patch-mainline: v6.5-rc1
References: jsc#PED-6045 jsc#PED-6036 jsc#PED-6104 jsc#PED-6114 jsc#PED-6067 jsc#PED-6123

Use proper notion for 16bit values for fixing the sparse warnings.

Fixes: f8ddb0fb3289 ("ALSA: usb-audio: Define USB MIDI 2.0 specs")
Reported-by: kernel test robot <lkp@intel.com>
Closes: https://lore.kernel.org/oe-kbuild-all/202305260528.wcqjXso8-lkp@intel.com/
Closes: https://lore.kernel.org/oe-kbuild-all/202305270534.odwHL9F0-lkp@intel.com/
Link: https://lore.kernel.org/r/20230605144758.6677-1-tiwai@suse.de
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 include/linux/usb/midi-v2.h | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/include/linux/usb/midi-v2.h b/include/linux/usb/midi-v2.h
index ebbffcae0417..16f09d959a2d 100644
--- a/include/linux/usb/midi-v2.h
+++ b/include/linux/usb/midi-v2.h
@@ -73,7 +73,7 @@ struct usb_ms20_gr_trm_block_header_descriptor {
 	__u8  bLength;			/* 5 */
 	__u8  bDescriptorType;		/* USB_DT_CS_GR_TRM_BLOCK */
 	__u8  bDescriptorSubtype;	/* USB_MS_GR_TRM_BLOCK_HEADER */
-	__u16 wTotalLength;		/* Total number of bytes */
+	__le16 wTotalLength;		/* Total number of bytes */
 } __packed;
 
 /* 5.4.2.1 Group Terminal Block Descriptor */
@@ -87,8 +87,8 @@ struct usb_ms20_gr_trm_block_descriptor {
 	__u8  nNumGroupTrm;		/* Number of member Group Terminals spanned */
 	__u8  iBlockItem;		/* String ID of Block item */
 	__u8  bMIDIProtocol;		/* Default MIDI protocol */
-	__u16 wMaxInputBandwidth;	/* Max input bandwidth capability in 4kB/s */
-	__u16 wMaxOutputBandwidth;	/* Max output bandwidth capability in 4kB/s */
+	__le16 wMaxInputBandwidth;	/* Max input bandwidth capability in 4kB/s */
+	__le16 wMaxOutputBandwidth;	/* Max output bandwidth capability in 4kB/s */
 } __packed;
 
 #endif /* __LINUX_USB_MIDI_V2_H */
-- 
2.35.3

