From: Daniel Wagner <dwagner@suse.de>
Date: Fri, 20 Jan 2023 13:56:30 +0100
Subject: blk: kABI: Add suse_kabi_padding to blk layer structs
Patch-mainline: Never, kABI
References: bsc#1207345

Add placeholders for future changes allowing backward compatibility.

Signed-off-by: Daniel Wagner <dwagner@suse.de>
---
 include/linux/blk-mq.h | 4 ++++
 include/linux/blkdev.h | 4 ++++
 2 files changed, 8 insertions(+)

diff --git a/include/linux/blk-mq.h b/include/linux/blk-mq.h
index b5b3bc5d23c7..ad9552016be1 100644
--- a/include/linux/blk-mq.h
+++ b/include/linux/blk-mq.h
@@ -419,6 +419,8 @@ struct blk_mq_hw_ctx {
 	struct dentry		*sched_debugfs_dir;
 #endif
 
+	void *suse_kabi_padding;
+
 	/**
 	 * @hctx_list: if this hctx is not in use, this is an entry in
 	 * q->unused_hctx_list.
@@ -637,6 +639,8 @@ struct blk_mq_ops {
 	 */
 	void (*show_rq)(struct seq_file *m, struct request *rq);
 #endif
+
+	void *suse_kabi_padding;
 };
 
 enum {
diff --git a/include/linux/blkdev.h b/include/linux/blkdev.h
index 74d5663d5a39..b947d40c91da 100644
--- a/include/linux/blkdev.h
+++ b/include/linux/blkdev.h
@@ -169,6 +169,8 @@ struct gendisk {
 	struct badblocks *bb;
 	struct lockdep_map lockdep_map;
 	u64 diskseq;
+
+	void *suse_kabi_padding;
 };
 
 static inline bool disk_live(struct gendisk *disk)
@@ -545,6 +547,8 @@ struct request_queue {
 	 */
 	struct blk_independent_access_ranges *ia_ranges;
 
+	void *suse_kabi_padding;
+
 	/**
 	 * @srcu: Sleepable RCU. Use as lock when type of the request queue
 	 * is blocking (BLK_MQ_F_BLOCKING). Must be the last member
-- 
2.35.3

