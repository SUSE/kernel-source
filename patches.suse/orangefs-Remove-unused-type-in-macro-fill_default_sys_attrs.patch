From 3dffadfa99f7ba2e9bee69d1e0bb42fd2d2d6022 Mon Sep 17 00:00:00 2001
From: Zhen Ni <zhen.ni@easystack.cn>
Date: Mon, 1 Sep 2025 10:58:18 +0800
Subject: [PATCH] orangefs: Remove unused type in macro fill_default_sys_attrs
Git-commit: 3dffadfa99f7ba2e9bee69d1e0bb42fd2d2d6022
Patch-mainline: v6.17-rc1
References: git-fixes

Remove the unused type parameter from the macro definition and all its
callers, making the interface consistent with its actual usage.

Fixes: 69a23de2f3de ("orangefs: clean up fill_default_sys_attrs")
Signed-off-by: Zhen Ni <zhen.ni@easystack.cn>
Signed-off-by: Mike Marshall <hubcap@omnibond.com>
Acked-by: Anthony Iliopoulos <ailiop@suse.com>

---
 fs/orangefs/namei.c           |   10 +++-------
 fs/orangefs/orangefs-kernel.h |    2 +-
 2 files changed, 4 insertions(+), 8 deletions(-)

--- a/fs/orangefs/namei.c
+++ b/fs/orangefs/namei.c
@@ -38,8 +38,7 @@ static int orangefs_create(struct mnt_id
 
 	new_op->upcall.req.create.parent_refn = parent->refn;
 
-	fill_default_sys_attrs(new_op->upcall.req.create.attributes,
-			       ORANGEFS_TYPE_METAFILE, mode);
+	fill_default_sys_attrs(new_op->upcall.req.create.attributes, mode);
 
 	strncpy(new_op->upcall.req.create.d_name,
 		dentry->d_name.name, ORANGEFS_NAME_MAX - 1);
@@ -243,9 +242,7 @@ static int orangefs_symlink(struct mnt_i
 
 	new_op->upcall.req.sym.parent_refn = parent->refn;
 
-	fill_default_sys_attrs(new_op->upcall.req.sym.attributes,
-			       ORANGEFS_TYPE_SYMLINK,
-			       mode);
+	fill_default_sys_attrs(new_op->upcall.req.sym.attributes, mode);
 
 	strncpy(new_op->upcall.req.sym.entry_name,
 		dentry->d_name.name,
@@ -321,8 +318,7 @@ static int orangefs_mkdir(struct mnt_idm
 
 	new_op->upcall.req.mkdir.parent_refn = parent->refn;
 
-	fill_default_sys_attrs(new_op->upcall.req.mkdir.attributes,
-			      ORANGEFS_TYPE_DIRECTORY, mode);
+	fill_default_sys_attrs(new_op->upcall.req.mkdir.attributes, mode);
 
 	strncpy(new_op->upcall.req.mkdir.d_name,
 		dentry->d_name.name, ORANGEFS_NAME_MAX - 1);
--- a/fs/orangefs/orangefs-kernel.h
+++ b/fs/orangefs/orangefs-kernel.h
@@ -472,7 +472,7 @@ int service_operation(struct orangefs_ke
 	((ORANGEFS_SB(inode->i_sb)->flags & ORANGEFS_OPT_INTR) ? \
 		ORANGEFS_OP_INTERRUPTIBLE : 0)
 
-#define fill_default_sys_attrs(sys_attr, type, mode)			\
+#define fill_default_sys_attrs(sys_attr, mode)			\
 do {									\
 	sys_attr.owner = from_kuid(&init_user_ns, current_fsuid()); \
 	sys_attr.group = from_kgid(&init_user_ns, current_fsgid()); \
