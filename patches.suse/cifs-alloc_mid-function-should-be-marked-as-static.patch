From: Steve French <stfrench@microsoft.com>
Date: Fri, 5 Aug 2022 11:15:44 -0500
Subject: [PATCH] cifs: alloc_mid function should be marked as static
Git-commit: ea75a78c07d7f172062822b90fac8a9ac59773a3
References: bsc#1193629
Patch-mainline: v6.0-rc1

It is only used in transport.c.

Signed-off-by: Steve French <stfrench@microsoft.com>
Acked-by: Paulo Alcantara <palcantara@suse.de>
---
 fs/cifs/cifsproto.h | 3 ---
 fs/cifs/transport.c | 2 +-
 2 files changed, 1 insertion(+), 4 deletions(-)

diff --git a/fs/cifs/cifsproto.h b/fs/cifs/cifsproto.h
index a3cb47619a0a..daaadffa2b88 100644
--- a/fs/cifs/cifsproto.h
+++ b/fs/cifs/cifsproto.h
@@ -78,9 +78,6 @@ extern char *build_wildcard_path_from_dentry(struct dentry *direntry);
 extern char *cifs_compose_mount_options(const char *sb_mountdata,
 		const char *fullpath, const struct dfs_info3_param *ref,
 		char **devname);
-/* extern void renew_parental_timestamps(struct dentry *direntry);*/
-extern struct mid_q_entry *alloc_mid(const struct smb_hdr *,
-				     struct TCP_Server_Info *);
 extern void delete_mid(struct mid_q_entry *mid);
 extern void release_mid(struct mid_q_entry *mid);
 extern void cifs_wake_up_task(struct mid_q_entry *mid);
diff --git a/fs/cifs/transport.c b/fs/cifs/transport.c
index dc69ac9dad60..de7aeced7e16 100644
--- a/fs/cifs/transport.c
+++ b/fs/cifs/transport.c
@@ -38,7 +38,7 @@ cifs_wake_up_task(struct mid_q_entry *mid)
 	wake_up_process(mid->callback_data);
 }
 
-struct mid_q_entry *
+static struct mid_q_entry *
 alloc_mid(const struct smb_hdr *smb_buffer, struct TCP_Server_Info *server)
 {
 	struct mid_q_entry *temp;
-- 
2.38.0


