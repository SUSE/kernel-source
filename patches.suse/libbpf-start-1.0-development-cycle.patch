From: Andrii Nakryiko <andrii@kernel.org>
Date: Wed, 18 May 2022 11:59:14 -0700
Subject: libbpf: start 1.0 development cycle
Patch-mainline: v5.19-rc1
Git-commit: e2371b1632b1c61c1fa726a17b82e6833a9e4d85
References: jsc#PED-1377

Start libbpf 1.0 development cycle by adding LIBBPF_1.0.0 section to
libbpf.map file and marking all current symbols as local. As we remove
all the deprecated APIs we'll populate global list before the final 1.0
release.

Signed-off-by: Andrii Nakryiko <andrii@kernel.org>
Link: https://lore.kernel.org/r/20220518185915.3529475-3-andrii@kernel.org
Signed-off-by: Alexei Starovoitov <ast@kernel.org>
Acked-by: Shung-Hsi Yu <shung-hsi.yu@suse.com>
---
 tools/lib/bpf/libbpf.map       |    4 ++++
 tools/lib/bpf/libbpf_version.h |    4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

--- a/tools/lib/bpf/libbpf.map
+++ b/tools/lib/bpf/libbpf.map
@@ -459,3 +459,7 @@ LIBBPF_0.8.0 {
 		libbpf_register_prog_handler;
 		libbpf_unregister_prog_handler;
 } LIBBPF_0.7.0;
+
+LIBBPF_1.0.0 {
+	local: *;
+};
--- a/tools/lib/bpf/libbpf_version.h
+++ b/tools/lib/bpf/libbpf_version.h
@@ -3,7 +3,7 @@
 #ifndef __LIBBPF_VERSION_H
 #define __LIBBPF_VERSION_H
 
-#define LIBBPF_MAJOR_VERSION 0
-#define LIBBPF_MINOR_VERSION 8
+#define LIBBPF_MAJOR_VERSION 1
+#define LIBBPF_MINOR_VERSION 0
 
 #endif /* __LIBBPF_VERSION_H */
