From 2a5325f802863c399fe40de935ba01195d4c43c8 Mon Sep 17 00:00:00 2001
From: Mukesh Sisodiya <mukesh.sisodiya@intel.com>
Date: Sun, 4 Jun 2023 12:11:13 +0300
Subject: [PATCH] wifi: mac80211: use u64 to hold enum ieee80211_bss_change flags
Git-commit: 2a5325f802863c399fe40de935ba01195d4c43c8
Patch-mainline: v6.5-rc1
References: jsc#PED-6081 jsc#PED-6130

The size of enum ieee80211_bss_change is bigger that 32,
so we need u64 to be used in a flag. Also pass u64
instead of u32 to ieee80211_reconfig_ap_links() for the same
reason.

Signed-off-by: Mukesh Sisodiya <mukesh.sisodiya@intel.com>
Signed-off-by: Gregory Greenman <gregory.greenman@intel.com>
Link: https://lore.kernel.org/r/20230604120651.d53b7018a4eb.I1adaa041de51d50d84a11226573e81ceac0fe90d@changeid
Signed-off-by: Johannes Berg <johannes.berg@intel.com>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 net/mac80211/util.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/net/mac80211/util.c b/net/mac80211/util.c
index 7a9abe8bf438..3f24b6e59652 100644
--- a/net/mac80211/util.c
+++ b/net/mac80211/util.c
@@ -2477,7 +2477,7 @@ static int ieee80211_reconfig_nan(struct ieee80211_sub_if_data *sdata)
 
 static void ieee80211_reconfig_ap_links(struct ieee80211_local *local,
 					struct ieee80211_sub_if_data *sdata,
-					u32 changed)
+					u64 changed)
 {
 	int link_id;
 
@@ -2654,7 +2654,7 @@ int ieee80211_reconfig(struct ieee80211_local *local)
 	/* Finally also reconfigure all the BSS information */
 	list_for_each_entry(sdata, &local->interfaces, list) {
 		/* common change flags for all interface types - link only */
-		u32 changed = BSS_CHANGED_ERP_CTS_PROT |
+		u64 changed = BSS_CHANGED_ERP_CTS_PROT |
 			      BSS_CHANGED_ERP_PREAMBLE |
 			      BSS_CHANGED_ERP_SLOT |
 			      BSS_CHANGED_HT |
-- 
2.35.3

