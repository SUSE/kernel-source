From: Jens Axboe <axboe@kernel.dk>
Date: Mon, 1 Nov 2021 13:40:12 -0600
Subject: [PATCH] block: replace always false argument with 'false'
Git-commit: b22809092c70099f4d8c3b6f3d34c5bc89b300ea
Patch-mainline: v5.16-rc1
References: jsc#PED-1183

A previous commit fixed up the condition for doing direct issue, but that
left the 'from_schedule' argument dead inside the branch. Replace it with
'false'.

Fixes: ff1552232b36 ("blk-mq: don't issue request directly in case that current is to be blocked")
Reviewed-by: Ming Lei <ming.lei@redhat.com>
Signed-off-by: Jens Axboe <axboe@kernel.dk>
Acked-by: Hannes Reinecke <hare@suse.com>
---
 block/blk-mq.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/block/blk-mq.c b/block/blk-mq.c
index 4787d5b74aa3..8aed6cea3a34 100644
--- a/block/blk-mq.c
+++ b/block/blk-mq.c
@@ -2227,7 +2227,7 @@ void blk_mq_flush_plug_list(struct blk_plug *plug, bool from_schedule)
 	plug->rq_count = 0;
 
 	if (!plug->multiple_queues && !plug->has_elevator && !from_schedule) {
-		blk_mq_plug_issue_direct(plug, from_schedule);
+		blk_mq_plug_issue_direct(plug, false);
 		if (rq_list_empty(plug->mq_list))
 			return;
 	}
-- 
2.35.3

