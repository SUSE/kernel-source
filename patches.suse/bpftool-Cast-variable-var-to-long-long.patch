From: Luo Yifan <luoyifan@cmss.chinamobile.com>
Date: Tue, 12 Nov 2024 15:37:01 +0800
Subject: bpftool: Cast variable `var` to long long
Patch-mainline: v6.13-rc1
Git-commit: b7b31f184f88c0cbd5d53dfc9a6532d851311135
References: jsc#PED-14653

When the SIGNED condition is met, the variable `var` should be cast to
`long long` instead of `unsigned long long`.

Signed-off-by: Luo Yifan <luoyifan@cmss.chinamobile.com>
Signed-off-by: Andrii Nakryiko <andrii@kernel.org>
Reviewed-by: Quentin Monnet <qmo@kernel.org>
Link: https://lore.kernel.org/bpf/20241112073701.283362-1-luoyifan@cmss.chinamobile.com
Acked-by: Hoyeon Lee <hoyeon.lee@suse.com>
---
 tools/bpf/bpftool/btf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/tools/bpf/bpftool/btf.c
+++ b/tools/bpf/bpftool/btf.c
@@ -289,7 +289,7 @@ static int dump_btf_type(const struct bt
 			} else {
 				if (btf_kflag(t))
 					printf("\n\t'%s' val=%lldLL", name,
-					       (unsigned long long)val);
+					       (long long)val);
 				else
 					printf("\n\t'%s' val=%lluULL", name,
 					       (unsigned long long)val);
