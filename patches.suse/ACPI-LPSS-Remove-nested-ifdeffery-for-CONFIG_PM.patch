From: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Date: Thu, 4 Apr 2024 15:06:59 +0300
Subject: ACPI: LPSS: Remove nested ifdeffery for CONFIG_PM
Patch-mainline: v6.10-rc1
Git-commit: 1b2a34f20bf0bfe4c86781fd6d7b323ec786ba1a
References: jsc#PED-11164

There is no need to have the ifdef CONFIG_PM to be nested.
The second and so on will obviously become a no-op.

Remove redundant nested ifdeffery.

Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Reviewed-by: Kuppuswamy Sathyanarayanan <sathyanarayanan.kuppuswamy@linux.intel.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 drivers/acpi/acpi_lpss.c |    2 --
 1 file changed, 2 deletions(-)

--- a/drivers/acpi/acpi_lpss.c
+++ b/drivers/acpi/acpi_lpss.c
@@ -887,10 +887,8 @@ static int acpi_lpss_activate(struct dev
 	if (pdata->dev_desc->flags & (LPSS_SAVE_CTX | LPSS_SAVE_CTX_ONCE))
 		lpss_deassert_reset(pdata);
 
-#ifdef CONFIG_PM
 	if (pdata->dev_desc->flags & LPSS_SAVE_CTX_ONCE)
 		acpi_lpss_save_ctx(dev, pdata);
-#endif
 
 	return 0;
 }
