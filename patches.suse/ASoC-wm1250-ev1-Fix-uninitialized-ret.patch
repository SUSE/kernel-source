From 5012f9d8acd411bc86229d75c0bb9517f84a60ec Mon Sep 17 00:00:00 2001
From: Linus Walleij <linus.walleij@linaro.org>
Date: Sat, 9 Dec 2023 23:01:27 +0100
Subject: [PATCH] ASoC: wm1250-ev1: Fix uninitialized ret
Git-commit: 5012f9d8acd411bc86229d75c0bb9517f84a60ec
Patch-mainline: v6.8-rc1
References: jsc#PED-9993 jsc#PED-10202

The GPIO descriptor conversion patch left an unitialized ret behind
by mistake, fix it by getting rid of the variable altogether.

Fixes: 10a366f36e2a ("ASoC: wm1250-ev1: Convert to GPIO descriptors")
Reported-by: kernel test robot <lkp@intel.com>
Closes: https://lore.kernel.org/oe-kbuild-all/202312090953.DiUo3mue-lkp@intel.com/
Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
Link: https://lore.kernel.org/r/20231209-descriptors-sound-wlf-v1-1-5b885ce43ae1@linaro.org
Signed-off-by: Mark Brown <broonie@kernel.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 sound/soc/codecs/wm1250-ev1.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/sound/soc/codecs/wm1250-ev1.c b/sound/soc/codecs/wm1250-ev1.c
index a2a8b2a4b19b..9fa6df48799b 100644
--- a/sound/soc/codecs/wm1250-ev1.c
+++ b/sound/soc/codecs/wm1250-ev1.c
@@ -129,7 +129,6 @@ static int wm1250_ev1_pdata(struct i2c_client *i2c)
 {
 	struct wm1250_ev1_pdata *pdata = dev_get_platdata(&i2c->dev);
 	struct wm1250_priv *wm1250;
-	int ret;
 
 	if (!pdata)
 		return 0;
@@ -165,7 +164,7 @@ static int wm1250_ev1_pdata(struct i2c_client *i2c)
 
 	dev_set_drvdata(&i2c->dev, wm1250);
 
-	return ret;
+	return 0;
 }
 
 static int wm1250_ev1_probe(struct i2c_client *i2c)
-- 
2.43.0

