From: Daniel Sneddon <daniel.sneddon@linux.intel.com>
Date: Wed, 3 Apr 2024 15:15:26 -0700
Subject: x86/cpufeature: Add missing leaf enumeration
Patch-mainline: Not yet, embargo patch
References: bsc#1217339 CVE-2024-2201

Commit 598c2fafc0 ("perf/x86/amd/lbr: Use freeze based on
availability") Added a new cpu feature word but didn't add that word
to the cpuid_leafs enumertion.  This will cause problems when future
feature words are added. Add the missing enum.

Fixes: 598c2fafc0 ("perf/x86/amd/lbr: Use freeze based on availability")
Signed-off-by: Daniel Sneddon <daniel.sneddon@linux.intel.com>
Acked-by: Nikolay Borisov <nik.borisov@suse.com>
---
 arch/x86/include/asm/cpufeature.h |    1 +
 1 file changed, 1 insertion(+)

--- a/arch/x86/include/asm/cpufeature.h
+++ b/arch/x86/include/asm/cpufeature.h
@@ -33,6 +33,7 @@ enum cpuid_leafs
 	CPUID_7_EDX,
 	CPUID_8000_001F_EAX,
 	CPUID_8000_0021_EAX,
+	CPUID_LNX_5,
 };
 
 #ifdef CONFIG_X86_FEATURE_NAMES
