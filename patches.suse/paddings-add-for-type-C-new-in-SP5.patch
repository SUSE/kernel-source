From 9016ba13e8957943ed572e26b95cd15d8ddaffe5 Mon Sep 17 00:00:00 2001
From: Oliver Neukum <oneukum@suse.com>
Date: Tue, 24 Jan 2023 09:22:21 +0100
Subject: [PATCH 1/3] paddings: add for type C new in SP5
Patch-mainline: Never (kABI padding)
References: bsc#1207439

The new structures need paddings.

Signed-off-by: Oliver Neukum <oneukum@suse.com>
---
 include/linux/usb/typec.h         | 5 +++++
 include/linux/usb/typec_mux.h     | 6 ++++++
 include/linux/usb/typec_retimer.h | 4 ++++
 3 files changed, 15 insertions(+)

diff --git a/include/linux/usb/typec.h b/include/linux/usb/typec.h
index a9aa04460..696281ef9 100644
--- a/include/linux/usb/typec.h
+++ b/include/linux/usb/typec.h
@@ -193,6 +193,7 @@ struct typec_cable_desc {
 	struct usb_pd_identity	*identity;
 	u16			pd_revision; /* 0300H = "3.0" */
 
+	void *suse_kabi_padding;
 };
 
 /*
@@ -216,6 +217,8 @@ struct typec_partner_desc {
 	enum typec_accessory	accessory;
 	struct usb_pd_identity	*identity;
 	u16			pd_revision; /* 0300H = "3.0" */
+
+	void *suse_kabi_padding;
 };
 
 /**
@@ -237,6 +240,8 @@ struct typec_operations {
 			     enum typec_port_type type);
 	struct usb_power_delivery **(*pd_get)(struct typec_port *port);
 	int (*pd_set)(struct typec_port *port, struct usb_power_delivery *pd);
+
+	void *suse_kabi_padding;
 };
 
 enum usb_pd_svdm_ver {
diff --git a/include/linux/usb/typec_mux.h b/include/linux/usb/typec_mux.h
index a9d995793..9e96b57a2 100644
--- a/include/linux/usb/typec_mux.h
+++ b/include/linux/usb/typec_mux.h
@@ -20,6 +20,8 @@ struct typec_switch_desc {
 	typec_switch_set_fn_t set;
 	const char *name;
 	void *drvdata;
+
+	void *suse_kabi_padding;
 };
 
 struct typec_switch *fwnode_typec_switch_get(struct fwnode_handle *fwnode);
@@ -44,6 +46,8 @@ struct typec_mux_state {
 	struct typec_altmode *alt;
 	unsigned long mode;
 	void *data;
+
+	void *suse_kabi_padding;
 };
 
 typedef int (*typec_mux_set_fn_t)(struct typec_mux *mux,
@@ -54,6 +58,8 @@ struct typec_mux_desc {
 	typec_mux_set_fn_t set;
 	const char *name;
 	void *drvdata;
+
+	void *suse_kabi_padding;
 };
 
 struct typec_mux *fwnode_typec_mux_get(struct fwnode_handle *fwnode,
diff --git a/include/linux/usb/typec_retimer.h b/include/linux/usb/typec_retimer.h
index 5e036b336..622b484f7 100644
--- a/include/linux/usb/typec_retimer.h
+++ b/include/linux/usb/typec_retimer.h
@@ -15,6 +15,8 @@ struct typec_retimer_state {
 	struct typec_altmode *alt;
 	unsigned long mode;
 	void *data;
+
+	void *suse_kabi_padding;
 };
 
 typedef int (*typec_retimer_set_fn_t)(struct typec_retimer *retimer,
@@ -25,6 +27,8 @@ struct typec_retimer_desc {
 	typec_retimer_set_fn_t set;
 	const char *name;
 	void *drvdata;
+
+	void *suse_kabi_padding;
 };
 
 struct typec_retimer *fwnode_typec_retimer_get(struct fwnode_handle *fwnode);
-- 
2.39.0

