From: Michael Kelley <mikelley@microsoft.com>
Date: Sun, 11 Jul 2021 19:50:04 -0700
Patch-mainline: v5.15-rc1
Subject: asm-generic/hyperv: Add missing #include of nmi.h
Git-commit: ba3f5839fbeb3f9e65070d90aa4e66008bbea80f
References: jsc#SLE-17855,bsc#1186071

The recent move of hv_do_rep_hypercall() to this file adds
a reference to touch_nmi_watchdog(). Its function definition
is included indirectly when compiled on x86, but not when
compiled on ARM64. So add the explicit #include.

No functional change.

Signed-off-by: Michael Kelley <mikelley@microsoft.com>
Link: https://lore.kernel.org/r/1626058204-2106-1-git-send-email-mikelley@microsoft.com
Signed-off-by: Wei Liu <wei.liu@kernel.org>
Acked-by: Olaf Hering <ohering@suse.de>
---
 include/asm-generic/mshyperv.h | 1 +
 1 file changed, 1 insertion(+)

diff --git a/include/asm-generic/mshyperv.h b/include/asm-generic/mshyperv.h
--- a/include/asm-generic/mshyperv.h
+++ b/include/asm-generic/mshyperv.h
@@ -22,6 +22,7 @@
 #include <linux/atomic.h>
 #include <linux/bitops.h>
 #include <linux/cpumask.h>
+#include <linux/nmi.h>
 #include <asm/ptrace.h>
 #include <asm/hyperv-tlfs.h>
 
