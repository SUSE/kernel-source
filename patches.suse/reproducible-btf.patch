From 5c5845f0e22b089a4572dfccb7c6fd0889fdb366 Mon Sep 17 00:00:00 2001
From: Bernhard Wiedemann <bwiedemann@suse.com>
Date: Mon, 23 Sep 2024 11:56:02 +0200
Subject: [PATCH] Make BTF generation reproducible (boo#1230414)
References: bsc#1230414
Patch-mainline: Never, reproducible builds with OBS
Signed-off-by: Robert Frohl <rfrohl@suse.com>
---
 scripts/pahole-flags.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/scripts/pahole-flags.sh b/scripts/pahole-flags.sh
index 728d55190d97..746e91c86860 100755
--- a/scripts/pahole-flags.sh
+++ b/scripts/pahole-flags.sh
@@ -17,7 +17,7 @@ if [ "${pahole_ver}" -ge "121" ]; then
 	extra_paholeopt="${extra_paholeopt} --btf_gen_floats"
 fi
 if [ "${pahole_ver}" -ge "122" ]; then
-	extra_paholeopt="${extra_paholeopt} -j"
+	extra_paholeopt="${extra_paholeopt} -j1"
 fi
 if [ "${pahole_ver}" -ge "124" ]; then
 	# see PAHOLE_HAS_LANG_EXCLUDE
-- 
2.46.0

