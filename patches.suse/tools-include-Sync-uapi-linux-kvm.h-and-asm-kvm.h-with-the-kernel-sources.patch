From: Namhyung Kim <namhyung@kernel.org>
Date: Mon, 8 Apr 2024 11:55:14 -0700
Subject: tools/include: Sync uapi/linux/kvm.h and asm/kvm.h with the kernel
 sources
Git-commit: bee3b820c66a6aae0e16d0ac47f9744446f33bff
Patch-mainline: v6.9-rc5
References: perf-sp7-v6.11-userspace-update

To pick up the changes from:

  NOT IN SUSE TREE: 6bda055d6258 ("KVM: define __KVM_HAVE_GUEST_DEBUG unconditionally")
  NOT IN SUSE TREE: 5d9cb71642db ("KVM: arm64: move ARM-specific defines to uapi/asm/kvm.h")
  NOT IN SUSE TREE: 71cd774ad2f9 ("KVM: s390: move s390-specific structs to uapi/asm/kvm.h")
  NOT IN SUSE TREE: d750951c9ed7 ("KVM: powerpc: move powerpc-specific structs to uapi/asm/kvm.h")
  NOT IN SUSE TREE: bcac0477277e ("KVM: x86: move x86-specific structs to uapi/asm/kvm.h")
  NOT IN SUSE TREE: c0a411904e15 ("KVM: remove more traces of device assignment UAPI")
  NOT IN SUSE TREE: f3c80061c0d3 ("KVM: SEV: fix compat ABI for KVM_MEMORY_ENCRYPT_OP")

  SUSE: upstream fix also includes (but fails to specify) changes to shadow
	8886640dade4 kvm: replace __KVM_HAVE_READONLY_MEM with Kconfig symbol
 
That should be used to beautify the KVM arguments and it addresses these
tools/perf build warnings:

  Warning: Kernel ABI header differences:
    diff -u tools/include/uapi/linux/kvm.h include/uapi/linux/kvm.h
    diff -u tools/arch/x86/include/uapi/asm/kvm.h arch/x86/include/uapi/asm/kvm.h
    diff -u tools/arch/powerpc/include/uapi/asm/kvm.h arch/powerpc/include/uapi/asm/kvm.h
    diff -u tools/arch/s390/include/uapi/asm/kvm.h arch/s390/include/uapi/asm/kvm.h
    diff -u tools/arch/arm64/include/uapi/asm/kvm.h arch/arm64/include/uapi/asm/kvm.h

Cc: Paolo Bonzini <pbonzini@redhat.com>
Cc: kvm@vger.kernel.org
Signed-off-by: Namhyung Kim <namhyung@kernel.org>
Link: https://lore.kernel.org/r/20240408185520.1550865-4-namhyung@kernel.org

Signed-off-by: Tony Jones <tonyj@suse.de>
---
 tools/arch/arm64/include/uapi/asm/kvm.h |    1 -
 tools/arch/x86/include/uapi/asm/kvm.h   |    1 -
 2 files changed, 2 deletions(-)

--- a/tools/arch/arm64/include/uapi/asm/kvm.h
+++ b/tools/arch/arm64/include/uapi/asm/kvm.h
@@ -39,7 +39,6 @@
 
 #define __KVM_HAVE_GUEST_DEBUG
 #define __KVM_HAVE_IRQ_LINE
-#define __KVM_HAVE_READONLY_MEM
 #define __KVM_HAVE_VCPU_EVENTS
 
 #define KVM_COALESCED_MMIO_PAGE_OFFSET 1
--- a/tools/arch/x86/include/uapi/asm/kvm.h
+++ b/tools/arch/x86/include/uapi/asm/kvm.h
@@ -49,7 +49,6 @@
 #define __KVM_HAVE_DEBUGREGS
 #define __KVM_HAVE_XSAVE
 #define __KVM_HAVE_XCRS
-#define __KVM_HAVE_READONLY_MEM
 
 /* Architectural interrupt line count. */
 #define KVM_NR_INTERRUPTS 256
