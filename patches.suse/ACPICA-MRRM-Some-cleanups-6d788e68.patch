From: Tony Luck <tony.luck@intel.com>
Date: Fri, 25 Apr 2025 21:25:23 +0200
Subject: ACPICA: MRRM: Some cleanups
Patch-mainline: v6.16-rc1
Git-commit: 6d788e6848ce25e57afc7c1edaf7a925edf940d4
References: jsc#PED-14260

ACPICA commit 022e2e4169841f429dbda677a4780830bf4c2177

 1) Added source specification to MRRM table comment in actbl2.h

 2) Shorten typedef from ACPI_TABLE_MRRM_MEM_RANGE_ENTRY to
    struct acpi_mrrm_mem_range_entry

 3) Add new typedefs to source/tools/acpisrc/astable.c

 4) Fix cut and paste errors in acpi_dm_table_info_mrrm0[] definition

 5) Fix indent and source code style errors in actbl2.h

 6) The base/length fields in the memory range structure are system
    memory addresses, not "MMIO". Update the acpi_dm_table_info_mrrm0[]
    strings.

 7) Add main/sub table comments to acpi_dm_dump_mrrm() and dt_compile_mrrm()

Link: https://github.com/acpica/acpica/commit/022e2e41
Signed-off-by: Tony Luck <tony.luck@intel.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Link: https://patch.msgid.link/2018955.PYKUYFuaPT@rjwysocki.net
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 include/acpi/actbl2.h |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

--- a/include/acpi/actbl2.h
+++ b/include/acpi/actbl2.h
@@ -1741,6 +1741,8 @@ struct acpi_msct_proximity {
 /*******************************************************************************
  *
  * MRRM - Memory Range and Region Mapping (MRRM) table
+ * Conforms to "Intel Resource Director Technology Architecture Specification"
+ * Version 1.1, January 2025
  *
  ******************************************************************************/
 
@@ -1756,13 +1758,13 @@ struct acpi_table_mrrm {
 #define ACPI_MRRM_FLAGS_REGION_ASSIGNMENT_OS    (1<<0)
 
 /*******************************************************************************
- *
- * Memory Range entry - Memory Range entry in MRRM table
- *
- ******************************************************************************/
+	*
+	* Memory Range entry - Memory Range entry in MRRM table
+	*
+	******************************************************************************/
 
-struct acpi_table_mrrm_mem_range_entry {
-	ACPI_SUBTABLE_HEADER_16 header;
+struct acpi_mrrm_mem_range_entry {
+	struct acpi_subtable_header_16 header;
 	u32 reserved0;		/* Reserved */
 	u64 addr_base;		/* Base addr of the mem range */
 	u64 addr_len;		/* Length of the mem range */
