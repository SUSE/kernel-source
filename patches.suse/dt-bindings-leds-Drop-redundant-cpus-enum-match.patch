From 38b24e25f1b97955b0e794d9d42f2187579de9b4 Mon Sep 17 00:00:00 2001
From: Nishanth Menon <nm@ti.com>
Date: Mon, 24 Apr 2023 10:14:37 -0500
Subject: [PATCH] dt-bindings: leds: Drop redundant cpus enum match
Git-commit: 38b24e25f1b97955b0e794d9d42f2187579de9b4
Patch-mainline: v6.5-rc1
References: git-fixes

Commit e91a4d5deb96 ("dt-bindings: leds: Document commonly used
LED triggers") introduced a enum match for cpu, while a pattern
'^cpu[0-9]*$' already exists.

This causes linux,default-trigger = "cpu" to have more than one match
and generates the following dtbs_check warning:

Arch/arm64/boot/dts/ti/k3-j721e-beagleboneai64.dtb: leds: led-2:linux,default-trigger: More than one condition true in oneOf schema:	{'$ref': '/schemas/types.yaml#/definitions/string',	 'oneOf': [{'items': [{'enum': ['backlight',	                                'default-on',	                                'heartbeat',	                                'disk-activity',	                                'disk-read',	                                'disk-write',	                                'timer',	                                'pattern',	                                'audio-micmute',	                                'audio-mute',	                                'bluetooth-power',	                                'cpu',	                                'flash',	                                'kbd-capslock',	                                'mtd',	                                'nand-disk',	                                'none',	                                'torch',	                                'usb-gadget',	                                'usb-host',	                                'usbport']}],	            'maxItems': 1,	            'minItems': 1,	            'type': 'array'},	           {'items': [{'pattern': '^cpu[0-9]*$'}],	            'maxItems': 1,	            'minItems': 1,	            'type': 'array'},	           {'items': [{'pattern': '^hci[0-9]+-power$'}],	            'maxItems': 1,	            'minItems': 1,	            'type': 'array'},	           {'items': [{'pattern': '^mmc[0-9]+$'}],	            'maxItems': 1,	            'minItems': 1,	            'type': 'array'},	           {'items': [{'pattern': '^phy[0-9]+tx$'}],	            'maxItems': 1,	            'minItems': 1,	            'type': 'array'}]}

Drop the explicit match against cpu since the pattern match already
covers the same.

Fixes: e91a4d5deb96 ("dt-bindings: leds: Document commonly used LED triggers")
Signed-off-by: Nishanth Menon <nm@ti.com>
Acked-by: Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org>
Acked-by: Rob Herring <robh@kernel.org>
Signed-off-by: Lee Jones <lee@kernel.org>
Link: https://lore.kernel.org/r/20230424151437.256073-1-nm@ti.com
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 Documentation/devicetree/bindings/leds/common.yaml | 2 --
 1 file changed, 2 deletions(-)

diff --git a/Documentation/devicetree/bindings/leds/common.yaml b/Documentation/devicetree/bindings/leds/common.yaml
index 11aedf1650a1..58b492d00246 100644
--- a/Documentation/devicetree/bindings/leds/common.yaml
+++ b/Documentation/devicetree/bindings/leds/common.yaml
@@ -105,8 +105,6 @@ properties:
           - audio-mute
             # LED indicates bluetooth power state
           - bluetooth-power
-            # LED indicates activity of all CPUs
-          - cpu
             # LED indicates camera flash state
           - flash
             # LED indicated keyboard capslock
-- 
2.35.3

