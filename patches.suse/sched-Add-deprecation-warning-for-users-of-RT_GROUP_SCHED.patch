From: =?utf-8?b?TWljaGFsIEtvdXRuw70gPG1rb3V0bnlAc3VzZS5jb20+?=
Date: Fri, 28 Feb 2025 10:01:03 +0100
Subject: sched: Add deprecation warning for users of RT_GROUP_SCHED
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Patch-mainline: Submitted, https://lore.kernel.org/r/20250310170442.504716-11-mkoutny@suse.com/
References: jsc#PED-11761 jsc#PED-12405

Signed-off-by: Michal Koutn√Ω <mkoutny@suse.com>
[ mkoutny: Drop action part until it's clarified upstream. ]
---
 kernel/sched/core.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/kernel/sched/core.c b/kernel/sched/core.c
index 4b2d9ec0c1f23..6866355046d21 100644
--- a/kernel/sched/core.c
+++ b/kernel/sched/core.c
@@ -9748,6 +9748,7 @@ static int cpu_cfs_local_stat_show(struct seq_file *sf, void *v)
 static int cpu_rt_runtime_write(struct cgroup_subsys_state *css,
 				struct cftype *cft, s64 val)
 {
+	pr_warn_once("RT_GROUP throttling is deprecated.\n");
 	return sched_group_set_rt_runtime(css_tg(css), val);
 }
 

