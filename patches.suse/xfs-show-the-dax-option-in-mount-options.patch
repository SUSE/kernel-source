From 42c030a94a5ecaed84ab8abf47bab7be1870649b Mon Sep 17 00:00:00 2001
From: Michal Suchanek <msuchanek@suse.de>
Date: Fri, 6 Nov 2020 14:11:04 +0100
Subject: [PATCH 1/2] xfs: show the dax option in mount options.

References: bsc#1178366
Patch-mainline: submitted https://lore.kernel.org/lkml/cover.1604948373.git.msuchanek@suse.de/T/#t

xfs accepts both dax and dax_enum but shows only dax_enum. Show both
options.

Signed-off-by: Michal Suchanek <msuchanek@suse.de>
---
 fs/xfs/xfs_super.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/fs/xfs/xfs_super.c
+++ b/fs/xfs/xfs_super.c
@@ -487,7 +487,7 @@ xfs_showargs(
 		{ XFS_MOUNT_GRPID,		",grpid" },
 		{ XFS_MOUNT_DISCARD,		",discard" },
 		{ XFS_MOUNT_LARGEIO,		",largeio" },
-		{ XFS_MOUNT_DAX_ALWAYS,		",dax=always" },
+		{ XFS_MOUNT_DAX_ALWAYS,		",dax,dax=always" },
 		{ XFS_MOUNT_DAX_NEVER,		",dax=never" },
 		{ 0, NULL }
 	};
