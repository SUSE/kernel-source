From: Michal Suchanek <msuchanek@suse.de>
Date: Fri, 25 Feb 2022 21:51:35 +0100
Subject: efifb: Remove redundant efifb_setup_from_dmi stub
Patch-mainline: v5.19-rc1
Git-commit: fd8be27e50e04f6e80af0f3e327cced525558256
References: jsc#PED-1409

efifb is the only user of efifb_setup_from_dmi which is provided by
sysfb which is selected by efifb. That makes the stub redundant.

Signed-off-by: Michal Suchanek <msuchanek@suse.de>
Reviewed-by: Javier Martinez Canillas <javierm@redhat.com>
Signed-off-by: Thomas Zimmermann <tzimmermann@suse.de>
Link: https://patchwork.freedesktop.org/patch/msgid/7416c439d68e9e96068ea5c77e05c99c7df41750.1645822213.git.msuchanek@suse.de
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 include/linux/efi.h |    4 ----
 1 file changed, 4 deletions(-)

--- a/include/linux/efi.h
+++ b/include/linux/efi.h
@@ -1347,11 +1347,7 @@ static inline struct efi_mokvar_table_en
 }
 #endif
 
-#ifdef CONFIG_SYSFB
 extern void efifb_setup_from_dmi(struct screen_info *si, const char *opt);
-#else
-static inline void efifb_setup_from_dmi(struct screen_info *si, const char *opt) { }
-#endif
 
 struct linux_efi_coco_secret_area {
 	u64	base_pa;
