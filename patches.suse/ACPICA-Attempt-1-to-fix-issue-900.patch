From: Saket Dumbre <saket.dumbre@intel.com>
Date: Wed, 18 Oct 2023 15:30:43 -0700
Subject: ACPICA: Attempt 1 to fix issue #900
Patch-mainline: v6.10-rc1
Git-commit: c15fe3916b77bc809577898c0d5037b1bfd4183b
References: jsc#PED-11164

ACPICA commit f5910dd1ab60780b95eed16d36860f18b01bc156

Link: https://github.com/acpica/acpica/commit/f5910dd1
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 drivers/acpi/acpica/utdebug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/acpi/acpica/utdebug.c
+++ b/drivers/acpi/acpica/utdebug.c
@@ -42,7 +42,6 @@ void acpi_ut_init_stack_ptr_trace(void)
 #pragma GCC diagnostic ignored "-Wdangling-pointer="
 #endif
 	acpi_gbl_entry_stack_pointer = &current_sp;
-#pragma GCC diagnostic pop
 }
 
 /*******************************************************************************
@@ -63,6 +62,7 @@ void acpi_ut_track_stack_ptr(void)
 
 	if (&current_sp < acpi_gbl_lowest_stack_pointer) {
 		acpi_gbl_lowest_stack_pointer = &current_sp;
+#pragma GCC diagnostic pop
 	}
 
 	if (acpi_gbl_nesting_level > acpi_gbl_deepest_nesting) {
