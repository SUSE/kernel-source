From: Jakub Kicinski <kuba@kernel.org>
Date: Mon, 11 Oct 2021 06:09:09 -0700
Subject: tulip: fix setting device address from rom
Patch-mainline: v5.16-rc1
Git-commit: 25b90c19102f50ae261cbc328361c0fc66b7c901
References: jsc#PED-1565

I missed removing i from the array index when converting
from a loop to a direct copy.

Fixes: ca8793175564 ("ethernet: tulip: remove direct netdev->dev_addr writes")
Reported-by: Joe Perches <joe@perches.com>
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/dec/tulip/de2104x.c |    2 +-
 drivers/net/ethernet/dec/tulip/dmfe.c    |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

--- a/drivers/net/ethernet/dec/tulip/de2104x.c
+++ b/drivers/net/ethernet/dec/tulip/de2104x.c
@@ -1823,7 +1823,7 @@ static void de21041_get_srom_info(struct
 #endif
 
 	/* store MAC address */
-	eth_hw_addr_set(de->dev, &ee_data[i + sa_offset]);
+	eth_hw_addr_set(de->dev, &ee_data[sa_offset]);
 
 	/* get offset of controller 0 info leaf.  ignore 2nd byte. */
 	ofs = ee_data[SROMC0InfoLeaf];
--- a/drivers/net/ethernet/dec/tulip/dmfe.c
+++ b/drivers/net/ethernet/dec/tulip/dmfe.c
@@ -476,7 +476,7 @@ static int dmfe_init_one(struct pci_dev
 	}
 
 	/* Set Node address */
-	eth_hw_addr_set(dev, &db->srom[20 + i]);
+	eth_hw_addr_set(dev, &db->srom[20]);
 
 	err = register_netdev (dev);
 	if (err)
