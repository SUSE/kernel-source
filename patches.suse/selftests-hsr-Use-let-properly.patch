From e50b287ea6b5896081766c9c8b04bbfe3004e6d3 Mon Sep 17 00:00:00 2001
From: Sebastian Andrzej Siewior <bigeasy@linutronix.de>
Date: Fri, 15 Sep 2023 20:10:04 +0200
Subject: [PATCH] selftests: hsr: Use `let' properly.

References: bsc#1214683 (PREEMPT_RT prerequisite backports)
Patch-mainline: v6.6-rc3
Git-commit: 5c3ce539a11185268aff3bb30d2fad8c7fa42f86

The timeout in the while loop is never subtracted due wrong usage of
`let' leading to an endless loop if the former condition never gets
true.

Put the statement for let in quotes so it is parsed as a single
statement.

Signed-off-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Mel Gorman <mgorman@suse.de>
---
 tools/testing/selftests/net/hsr/hsr_ping.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/tools/testing/selftests/net/hsr/hsr_ping.sh b/tools/testing/selftests/net/hsr/hsr_ping.sh
index df9143538708..183f4a0f19dd 100755
--- a/tools/testing/selftests/net/hsr/hsr_ping.sh
+++ b/tools/testing/selftests/net/hsr/hsr_ping.sh
@@ -197,7 +197,7 @@ do
 		break
 	fi
 	sleep 1
-	let WAIT = WAIT - 1
+	let "WAIT = WAIT - 1"
 done
 
 # Just a safety delay in case the above check didn't handle it.
