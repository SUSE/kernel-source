From: Olaf Hering <ohering@suse.de>
Date: Mon, 9 Nov 2020 11:04:00 +0100
Patch-mainline: Never, kABI
Subject: kABI Drivers: hv: vmbus: preserve layout of vmbus_channel.
References: bsc#1204017

A new channel is allocated internally by all in-tree drivers.
Preserve layout of struct vmbus_channel.
Hide the new members at the end of this struct.
--- a/include/linux/hyperv.h
+++ b/include/linux/hyperv.h
@@ -1010,6 +1010,7 @@ struct vmbus_channel {
 	u32 fuzz_testing_interrupt_delay;
 	u32 fuzz_testing_message_delay;
 
+#ifndef __GENKSYMS__
 	/* callback to generate a request ID from a request address */
 	u64 (*next_request_id_callback)(struct vmbus_channel *channel, u64 rqst_addr);
 	/* callback to retrieve a request address from a request ID */
@@ -1018,6 +1019,7 @@ struct vmbus_channel {
 	/* request/transaction ids for VMBus */
 	struct vmbus_requestor requestor;
 	u32 rqstor_size;
+#endif
 };
 
 #define lock_requestor(channel, flags)					\
