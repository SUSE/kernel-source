From: Miroslav Benes <mbenes@suse.cz>
Date: Wed, 1 Sep 2021 11:52:11 +0200
Subject: Revert "kallsyms: unexport kallsyms_lookup_name() and
 kallsyms_on_each_symbol()"
Patch-mainline: Never, SUSE-specific
References: bsc#1190003 jsc#SLE-17360

This reverts commit 0bd476e6c67190b5eb7b6e105c8db8ff61103281.

Re-export two kallsyms symbols we need for our live patches development.

Signed-off-by: Miroslav Benes <mbenes@suse.cz>
---
 kernel/kallsyms.c |    2 ++
 1 file changed, 2 insertions(+)

--- a/kernel/kallsyms.c
+++ b/kernel/kallsyms.c
@@ -207,6 +207,7 @@ unsigned long kallsyms_lookup_name(const
 	}
 	return module_kallsyms_lookup_name(name);
 }
+EXPORT_SYMBOL_GPL(kallsyms_lookup_name);
 
 /*
  * Iterate over all symbols in vmlinux.  For symbols from modules use
@@ -230,6 +231,7 @@ int kallsyms_on_each_symbol(int (*fn)(vo
 	}
 	return 0;
 }
+EXPORT_SYMBOL_GPL(kallsyms_on_each_symbol);
 
 static unsigned long get_symbol_pos(unsigned long addr,
 				    unsigned long *symbolsize,
