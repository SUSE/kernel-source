From: =?utf-8?b?IlNhbmp1w6FuIEdhcmPDrWEsIEpvcmdlIiA8Sm9yZ2UuU2FuanVhbkdhcmNpYUBkdWFnb24uY29tPg==?=
Date: Thu, 3 Aug 2023 09:59:07 +0000
Subject: 8250_men_mcb: remove unnecessary cast when reading register
Git-commit: 593135f09368dbddc0244b859a7c3befb97214e0
Patch-mainline: v6.6-rc1
References: git-fixes

Fixes following sparse warning:

drivers/tty/serial/8250/8250_men_mcb.c:92:21: sparse: cast removes
    address space '__iomem' of expression
drivers/tty/serial/8250/8250_men_mcb.c:92:21: sparse: incorrect type
    in argument 1 (different address spaces) expected void const volatile
    [noderef] __iomem *addr got void *

Fixes: 2554e6ba28a2 ("8250_men_mcb: Read num ports from register data.")
Reported-by: kernel test robot <lkp@intel.com>
Closes: https://lore.kernel.org/oe-kbuild-all/202307261517.x1O9OAkd-lkp@intel.com/
Signed-off-by: Jorge Sanjuan Garcia <jorge.sanjuangarcia@duagon.com>
Link: https://lore.kernel.org/r/20230803095816.110864-1-jorge.sanjuangarcia@duagon.com
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Acked-by: Petr Tesarik <ptesarik@suse.com>
---
 drivers/tty/serial/8250/8250_men_mcb.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/tty/serial/8250/8250_men_mcb.c b/drivers/tty/serial/8250/8250_men_mcb.c
index db62a3b15f19..dc9e093b1cb3 100644
--- a/drivers/tty/serial/8250/8250_men_mcb.c
+++ b/drivers/tty/serial/8250/8250_men_mcb.c
@@ -40,7 +40,7 @@
 #define MEN_UART3_OFFSET	(MEN_UART2_OFFSET + MEN_UART_MEM_SIZE)
 #define MEN_UART4_OFFSET	(MEN_UART3_OFFSET + MEN_UART_MEM_SIZE)
 
-#define MEN_READ_REGISTER(addr)	readb((void *)addr)
+#define MEN_READ_REGISTER(addr)	readb(addr)
 
 #define MAX_PORTS	4
 

