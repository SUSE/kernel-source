From: Jakub Kicinski <kuba@kernel.org>
Date: Wed, 29 Nov 2023 11:36:21 -0800
Subject: tools: ynl: order building samples after generated code
Patch-mainline: v6.8-rc1
Git-commit: 9cf9b57082411ad42d6d12c7b857e60add673877
References: bsc#1232889

Parallel builds of ynl:

  make -C tools/net/ynl/ -j 4

don't work correctly right now. samples get handled before
generated, so build of samples does not notice that protos.a
has changed. Order samples to be last.

Link: https://lore.kernel.org/r/20231129193622.2912353-4-kuba@kernel.org
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 tools/net/ynl/Makefile |    2 ++
 1 file changed, 2 insertions(+)

--- a/tools/net/ynl/Makefile
+++ b/tools/net/ynl/Makefile
@@ -4,6 +4,8 @@ SUBDIRS = lib generated samples
 
 all: $(SUBDIRS)
 
+samples: | lib generated
+
 $(SUBDIRS):
 	@if [ -f "$@/Makefile" ] ; then \
 		$(MAKE) -C $@ ; \
