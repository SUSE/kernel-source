From: Zhe Qiao <qiaozhe@iscas.ac.cn>
Date: Fri, 25 Apr 2025 21:29:48 +0200
Subject: ACPICA: Adjust the position of code lines
Patch-mainline: v6.16-rc1
Git-commit: 5f3cf23f7248d972de12e0bdf42a16eabf5b2b31
References: jsc#PED-14260

ACPICA commit 5da6daf5691169d2bf2e5c9e55baf093757312ca

In the acpica/utcache.c file, adjust the position of the
"ACPI_MEM_TRACKING(cache->total_allocated++);" code line
to ensure that the increment operation on total_allocated
is included within the ACPI_DBG_TRACK_ALLOCATIONS configuration.

Link: https://github.com/acpica/acpica/commit/5da6daf5
Signed-off-by: Zhe Qiao <qiaozhe@iscas.ac.cn>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Link: https://patch.msgid.link/2670567.Lt9SDvczpP@rjwysocki.net
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 drivers/acpi/acpica/utcache.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/acpi/acpica/utcache.c
+++ b/drivers/acpi/acpica/utcache.c
@@ -251,9 +251,9 @@ void *acpi_os_acquire_object(struct acpi
 	} else {
 		/* The cache is empty, create a new object */
 
+#ifdef ACPI_DBG_TRACK_ALLOCATIONS
 		ACPI_MEM_TRACKING(cache->total_allocated++);
 
-#ifdef ACPI_DBG_TRACK_ALLOCATIONS
 		if ((cache->total_allocated - cache->total_freed) >
 		    cache->max_occupied) {
 			cache->max_occupied =
