From: Bart Van Assche <bvanassche@acm.org>
Date: Wed, 23 Oct 2024 13:28:50 -0700
Subject: [PATCH] blk-mq: Unexport blk_mq_flush_busy_ctxs()
Git-commit: e203e20a8b2b67eb12f87aa3ee625cda5e686434
Patch-mainline: v6.13-rc1
References: jsc#PED-9651

Commit a6088845c2bf ("block: kyber: make kyber more friendly with merging")
removed the only blk_mq_flush_busy_ctxs() call from outside the block layer
core. Hence unexport blk_mq_flush_busy_ctxs().

Signed-off-by: Bart Van Assche <bvanassche@acm.org>
Reviewed-by: Chaitanya Kulkarni <kch@nvidia.com>
Link: https://lore.kernel.org/r/20241023202850.3469279-1-bvanassche@acm.org
Signed-off-by: Jens Axboe <axboe@kernel.dk>
Acked-by: Hannes Reinecke <hare@suse.com>
---
 block/blk-mq.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/block/blk-mq.c b/block/blk-mq.c
index e39319ff4ecb..aae9a112c913 100644
--- a/block/blk-mq.c
+++ b/block/blk-mq.c
@@ -1726,7 +1726,6 @@ void blk_mq_flush_busy_ctxs(struct blk_mq_hw_ctx *hctx, struct list_head *list)
 
 	sbitmap_for_each_set(&hctx->ctx_map, flush_busy_ctx, &data);
 }
-EXPORT_SYMBOL_GPL(blk_mq_flush_busy_ctxs);
 
 struct dispatch_rq_data {
 	struct blk_mq_hw_ctx *hctx;
-- 
2.35.3

