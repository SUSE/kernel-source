From: Jakub Kicinski <kuba@kernel.org>
Date: Thu, 7 Apr 2022 20:38:15 -0700
Subject: tls: rx: drop pointless else after goto
Git-commit: d5123edd10cf9d324fcb88e276bdc7375f3c5321
References: CVE-2024-58239 bsc#1248614
Patch-mainline: v5.19-rc1

Pointless else branch after goto makes the code harder to refactor
down the line.

Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Steffen Jaeckel <sjaeckel@suse.de>

---
 net/tls/tls_sw.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

--- a/net/tls/tls_sw.c
+++ b/net/tls/tls_sw.c
@@ -1777,10 +1777,9 @@ int tls_sw_recvmsg(struct sock *sk,
 	if (err < 0) {
 		tls_err_abort(sk, err);
 		goto end;
-	} else {
-		copied = err;
 	}
 
+	copied = err;
 	if (len <= copied)
 		goto recv_end;
 
