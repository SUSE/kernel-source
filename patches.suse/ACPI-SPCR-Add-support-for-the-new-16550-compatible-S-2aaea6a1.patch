From: Marcin Wojtas <mw@semihalf.com>
Date: Wed, 14 Jul 2021 23:43:46 +0200
Subject: ACPI: SPCR: Add support for the new 16550-compatible Serial Port
 Subtype
Patch-mainline: v5.15-rc1
Git-commit: 2aaea6a1647e887fe91ce3e0324e6be4362e5388
References: jsc#SLE-19223

The Microsoft Debug Port Table 2 (DBG2) specification revision
May 31, 2017 added definition of the 16550-compatible Serial Port
Subtype with parameters defined in Generic Address Structure (GAS) [1]

Add its support in the SPCR table parsing routine.

[1] https://docs.microsoft.com/en-us/windows-hardware/drivers/bringup/acpi-debug-port-table

Signed-off-by: Marcin Wojtas <mw@semihalf.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 drivers/acpi/spcr.c |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/acpi/spcr.c
+++ b/drivers/acpi/spcr.c
@@ -136,6 +136,7 @@ int __init acpi_parse_spcr(bool enable_e
 		break;
 	case ACPI_DBG2_16550_COMPATIBLE:
 	case ACPI_DBG2_16550_SUBSET:
+	case ACPI_DBG2_16550_WITH_GAS:
 		uart = "uart";
 		break;
 	default:
