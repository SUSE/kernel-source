From: "Rafael J. Wysocki" <rafael.j.wysocki@intel.com>
Date: Sat, 21 May 2022 18:02:26 +0200
Subject: Revert "ACPICA: executer/exsystem: Warn about sleeps greater than 10
 ms"
Patch-mainline: v5.19-rc1
Git-commit: c244dc1bc92e94c625325a654337490bb1da871a
References: jsc#PED-1408

Commit 6eaf08770ee8 ("ACPICA: executer/exsystem: Warn about sleeps
greater than 10 ms") made acpi_ex_system_do_sleep() log a warning for
sleep times greater than 10 ms, but such sleep times are used in
power management AML because of the PCI specification requirements.

This results with logging warnings that cannot really be acted on in
any useful way which is annoying and these warnings show up in the logs
on many production systems, so revert commit 6eaf08770ee8.

Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 drivers/acpi/acpica/exsystem.c |   11 -----------
 1 file changed, 11 deletions(-)

--- a/drivers/acpi/acpica/exsystem.c
+++ b/drivers/acpi/acpica/exsystem.c
@@ -170,17 +170,6 @@ acpi_status acpi_ex_system_do_sleep(u64
 	acpi_ex_exit_interpreter();
 
 	/*
-	 * Warn users about excessive sleep times, so ASL code can be improved to
-	 * use polling or similar techniques.
-	 */
-	if (how_long_ms > 10) {
-		ACPI_WARNING((AE_INFO,
-			      "Firmware issue: Excessive sleep time (0x%8.8X%8.8X ms > 10 ms)"
-			      " in ACPI Control Method",
-			      ACPI_FORMAT_UINT64(how_long_ms)));
-	}
-
-	/*
 	 * For compatibility with other ACPI implementations and to prevent
 	 * accidental deep sleeps, limit the sleep time to something reasonable.
 	 */
