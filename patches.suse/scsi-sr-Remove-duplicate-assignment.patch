From: Alexey Dobriyan <adobriyan@gmail.com>
Date: Tue, 26 Oct 2021 19:53:01 +0300
Subject: [PATCH] scsi: sr: Remove duplicate assignment
Git-commit: a1efc896cb8a2831de3cf5a9747e030b494f1a26
Patch-mainline: v5.16-rc1
References: jsc#PED-1183

Link: https://lore.kernel.org/r/YXgybUhYN+Vrruj8@localhost.localdomain
Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Acked-by: Hannes Reinecke <hare@suse.com>
---
 drivers/scsi/sr.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/scsi/sr.c b/drivers/scsi/sr.c
index d769057b25a0..e2bb7f790057 100644
--- a/drivers/scsi/sr.c
+++ b/drivers/scsi/sr.c
@@ -692,7 +692,6 @@ static int sr_probe(struct device *dev)
 	cd->device = sdev;
 	cd->disk = disk;
 	cd->driver = &sr_template;
-	cd->disk = disk;
 	cd->capacity = 0x1fffff;
 	cd->device->changed = 1;	/* force recheck CD type */
 	cd->media_present = 1;
-- 
2.35.3

