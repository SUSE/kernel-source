From: Colin Ian King <colin.i.king@gmail.com>
Date: Mon, 7 Oct 2024 17:10:35 +0100
Subject: Bluetooth: btintel_pcie: remove redundant assignment to variable ret
Patch-mainline: v6.13-rc1
Git-commit: 4900e041c3f05dac47c6bce0844203a0703baaa2
References: jsc#PED-12286

The variable ret is being assigned -ENOMEM however this is never
read and it is being re-assigned a new value when the code jumps
to label resubmit. The assignment is redundant and can be removed.

Signed-off-by: Colin Ian King <colin.i.king@gmail.com>
Signed-off-by: Luiz Augusto von Dentz <luiz.von.dentz@intel.com>
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 drivers/bluetooth/btintel_pcie.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

--- a/drivers/bluetooth/btintel_pcie.c
+++ b/drivers/bluetooth/btintel_pcie.c
@@ -752,10 +752,8 @@ static int btintel_pcie_submit_rx_work(s
 	buf += sizeof(*rfh_hdr);
 
 	skb = alloc_skb(len, GFP_ATOMIC);
-	if (!skb) {
-		ret = -ENOMEM;
+	if (!skb)
 		goto resubmit;
-	}
 
 	skb_put_data(skb, buf, len);
 	skb_queue_tail(&data->rx_skb_q, skb);
