From f51ba1148a810a16eead9f0b29bfa2a8f8ab3afb Mon Sep 17 00:00:00 2001
From: Valentina Goncharenko <goncharenko.vp@ispras.ru>
Date: Thu, 1 Sep 2022 13:28:14 +0300
Subject: [PATCH] ALSA: asihpi - Remove useless code in hpi_meter_get_peak()
Git-commit: f51ba1148a810a16eead9f0b29bfa2a8f8ab3afb
Patch-mainline: v6.1-rc1
References: git-fixes

The hpi_meter_get_peak() function contains the expression
"hm.obj_index = hm.obj_index", which does not carry any semantic load.

Found by Linux Verification Center (linuxtesting.org) with SVACE.

Fixes: 719f82d3987a ("ALSA: Add support of AudioScience ASI boards")
Signed-off-by: Valentina Goncharenko <goncharenko.vp@ispras.ru>
Link: https://lore.kernel.org/r/20220901102814.131855-1-goncharenko.vp@ispras.ru
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/asihpi/hpifunc.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/sound/pci/asihpi/hpifunc.c b/sound/pci/asihpi/hpifunc.c
index 1de05383126a..24047fafef51 100644
--- a/sound/pci/asihpi/hpifunc.c
+++ b/sound/pci/asihpi/hpifunc.c
@@ -2020,7 +2020,6 @@ u16 hpi_meter_get_peak(u32 h_control, short an_peakdB[HPI_MAX_CHANNELS]
 		HPI_CONTROL_GET_STATE);
 	if (hpi_handle_indexes(h_control, &hm.adapter_index, &hm.obj_index))
 		return HPI_ERROR_INVALID_HANDLE;
-	hm.obj_index = hm.obj_index;
 	hm.u.c.attribute = HPI_METER_PEAK;
 
 	hpi_send_recv(&hm, &hr);
-- 
2.35.3

