From: Tony Luck <tony.luck@intel.com>
Date: Fri, 25 Apr 2025 21:23:17 +0200
Subject: ACPICA: infrastructure: Add new header and ACPI_DMT_BUF26 types
Patch-mainline: v6.16-rc1
Git-commit: 67f9d690c94ad97f03e055e1444f5471b2d44e4c
References: jsc#PED-14260

ACPICA commit 52840d3826bd7e183fcb555e044e190aea0b5021

New MRRM tables can have subtables that are larger than 255 bytes.

Add a new header typedef that uses u16 for Length. Could be
backported to acpi_aspt_header, struct acpi_dmar_header, struct acpi_nfit_header,
struct acpi_prmt_module_header, struct acpi_prmt_module_info. Will be used for
upcoming ERDT table.

MRRM table has a 26-byte reserved section in header. Add ACPI_DMT_BUF26
to describe this in struct acpi_dmtable_info.

Link: https://github.com/acpica/acpica/commit/52840d38
Signed-off-by: Tony Luck <tony.luck@intel.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Link: https://patch.msgid.link/3005638.e9J7NaK4W3@rjwysocki.net
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 include/acpi/actbl1.h |    7 +++++++
 1 file changed, 7 insertions(+)

--- a/include/acpi/actbl1.h
+++ b/include/acpi/actbl1.h
@@ -155,6 +155,13 @@ struct acpi_aspt_acpi_mbox_regs {
 	u64 reserved2[2];
 };
 
+/* Larger subtable header (when Length can exceed 255) */
+
+struct acpi_subtable_header_16 {
+	u16 type;
+	u16 length;
+};
+
 /*******************************************************************************
  *
  * ASF - Alert Standard Format table (Signature "ASF!")
