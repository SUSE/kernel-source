From: YueHaibing <yuehaibing@huawei.com>
Date: Sat, 29 May 2021 19:48:48 +0800
Subject: [PATCH] cifs: Remove unused inline function is_sysvol_or_netlogon()
Git-commit: a23a71abca941fdbac32e504c6d78cf99c6df70f
References: bsc#1185902
Patch-mainline: v5.14-rc1

is_sysvol_or_netlogon() is never used, so can remove it.

Signed-off-by: YueHaibing <yuehaibing@huawei.com>
Reviewed-by: Paulo Alcantara (SUSE) <pc@cjr.nz>
Signed-off-by: Steve French <stfrench@microsoft.com>
Acked-by: Paulo Alcantara <palcantara@suse.de>
---
 fs/cifs/dfs_cache.c | 11 -----------
 1 file changed, 11 deletions(-)

diff --git a/fs/cifs/dfs_cache.c b/fs/cifs/dfs_cache.c
index b1fa30fefe1f..03c81c39a507 100644
--- a/fs/cifs/dfs_cache.c
+++ b/fs/cifs/dfs_cache.c
@@ -319,17 +319,6 @@ static inline unsigned int cache_entry_hash(const void *data, int size)
 	return h & (CACHE_HTABLE_SIZE - 1);
 }
 
-/* Check whether second path component of @path is SYSVOL or NETLOGON */
-static inline bool is_sysvol_or_netlogon(const char *path)
-{
-	const char *s;
-	char sep = path[0];
-
-	s = strchr(path + 1, sep) + 1;
-	return !strncasecmp(s, "sysvol", strlen("sysvol")) ||
-		!strncasecmp(s, "netlogon", strlen("netlogon"));
-}
-
 /* Return target hint of a DFS cache entry */
 static inline char *get_tgt_name(const struct cache_entry *ce)
 {
-- 
2.32.0


