From 1a2dc9bf3b15d8d6683adeb29dc680decd19d5ae Mon Sep 17 00:00:00 2001
From: Liao Chen <liaochen4@huawei.com>
Date: Tue, 20 Aug 2024 12:16:28 +0000
Subject: backlight: ktz8866: Fix module autoloading
Git-commit: 1a2dc9bf3b15d8d6683adeb29dc680decd19d5ae
Patch-mainline: v6.13-rc1
References: jsc#PED-13979 jsc#PED-14039 jsc#PED-14046 jsc#PED-14211 jsc#PED-14333 jsc#PED-14487 jsc#PED-14488 jsc#PED-14497 jsc#PED-14499

Add MODULE_DEVICE_TABLE(), so modules could be properly autoloaded
based on the alias from of_device_id table.

Signed-off-by: Liao Chen <liaochen4@huawei.com>
Reviewed-by: Daniel Thompson <daniel.thompson@linaro.org>
Reviewed-by: Jianhua Lu <lujianhua000@gmail.com>
Link: https://lore.kernel.org/r/20240820121628.42321-1-liaochen4@huawei.com
Signed-off-by: Lee Jones <lee@kernel.org>
Acked-by: Patrik Jakobsson <pjakobsson@suse.de>

---
 drivers/video/backlight/ktz8866.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/video/backlight/ktz8866.c b/drivers/video/backlight/ktz8866.c
index 2e508741c0af..351c2b4d63ed 100644
--- a/drivers/video/backlight/ktz8866.c
+++ b/drivers/video/backlight/ktz8866.c
@@ -190,6 +190,7 @@ static const struct of_device_id ktz8866_match_table[] = {
 	},
 	{},
 };
+MODULE_DEVICE_TABLE(of, ktz8866_match_table);
 
 static struct i2c_driver ktz8866_driver = {
 	.driver = {
-- 
2.52.0

