From: Hannes Reinecke <hare@suse.de>
Date: Wed, 23 Nov 2022 13:54:24 +0100
Subject: [PATCH] scsi: do not put scsi_common in a separate module
Patch-Mainline: submitted to linux-scsi 2022/11/24
References: jsc#PED-1183

scsi_common.ko is a tiny module which is not shared with anything,
so include it in scsi_mod.ko like the rest of the files.

Signed-off-by: Hannes Reinecke <hare@suse.de>
---
 drivers/scsi/Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/scsi/Makefile b/drivers/scsi/Makefile
index f055bfd54a68..d9f5f27246b1 100644
--- a/drivers/scsi/Makefile
+++ b/drivers/scsi/Makefile
@@ -20,7 +20,6 @@ CFLAGS_aha152x.o =   -DAHA152X_STAT -DAUTOCONF
 obj-$(CONFIG_PCMCIA)		+= pcmcia/
 
 obj-$(CONFIG_SCSI)		+= scsi_mod.o
-obj-$(CONFIG_SCSI_COMMON)	+= scsi_common.o
 
 obj-$(CONFIG_RAID_ATTRS)	+= raid_class.o
 
@@ -167,6 +166,7 @@ scsi_mod-y			+= scsi_trace.o scsi_logging.o
 scsi_mod-$(CONFIG_PM)		+= scsi_pm.o
 scsi_mod-$(CONFIG_SCSI_DH)	+= scsi_dh.o
 scsi_mod-$(CONFIG_BLK_DEV_BSG)	+= scsi_bsg.o
+scsi_mod-$(CONFIG_SCSI_COMMON)	+= scsi_common.o
 
 hv_storvsc-y			:= storvsc_drv.o
 
-- 
2.35.3

