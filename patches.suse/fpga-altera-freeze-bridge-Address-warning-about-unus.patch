From e3fd0cfb852b9d201973665e2287cce43dd92c77 Mon Sep 17 00:00:00 2001
From: Moritz Fischer <mdf@kernel.org>
Date: Thu, 1 Jul 2021 20:54:01 -0700
Subject: [PATCH] fpga: altera-freeze-bridge: Address warning about unused variable
Git-commit: e3fd0cfb852b9d201973665e2287cce43dd92c77
Patch-mainline: v5.15-rc1
References: git-fixes

Warning: unused variable 'altera_freeze_br_of_match' [-Wunused-const-variable]  static const struct of_device_id altera_freeze_br_of_match[] = {

Fixes: ca24a648f535 ("fpga: add altera freeze bridge support")
Cc: Tom Rix <trix@redhat.com>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Moritz Fischer <mdf@kernel.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/fpga/altera-freeze-bridge.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/fpga/altera-freeze-bridge.c b/drivers/fpga/altera-freeze-bridge.c
index dd58c4aea92e..7d22a44d652e 100644
--- a/drivers/fpga/altera-freeze-bridge.c
+++ b/drivers/fpga/altera-freeze-bridge.c
@@ -198,11 +198,13 @@ static const struct fpga_bridge_ops altera_freeze_br_br_ops = {
 	.enable_show = altera_freeze_br_enable_show,
 };
 
+#ifdef CONFIG_OF
 static const struct of_device_id altera_freeze_br_of_match[] = {
 	{ .compatible = "altr,freeze-bridge-controller", },
 	{},
 };
 MODULE_DEVICE_TABLE(of, altera_freeze_br_of_match);
+#endif
 
 static int altera_freeze_br_probe(struct platform_device *pdev)
 {
-- 
2.26.2

