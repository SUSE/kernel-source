From: Dmitry Osipenko <digetx@gmail.com>
Date: Mon, 14 Dec 2020 14:37:45 +0300
Subject: [PATCH] cifs: Add missing sentinel to smb3_fs_parameters
Git-commit: 427c4f004e173732ab0eb248e6ec89ef79524cd5
Patch-mainline: v5.11-rc1
References: bsc#1192606

Add missing sentinel to smb3_fs_parameters. This fixes ARM32 kernel
crashing once CIFS is registered.

 Unable to handle kernel paging request at virtual address 33626d73
...
 (strcmp) from (fs_validate_description)
 (fs_validate_description) from (register_filesystem)
 (register_filesystem) from (init_cifs [cifs])
 (init_cifs [cifs]) from (do_one_initcall)
 (do_one_initcall) from (do_init_module)
 (do_init_module) from (load_module)
 (load_module) from (sys_finit_module)
 (sys_finit_module) from (ret_fast_syscal)

Fixes: e07724d1cf38 ("cifs: switch to new mount api")
Signed-off-by: Dmitry Osipenko <digetx@gmail.com>
Reviewed-by: Aurelien Aptel <aaptel@suse.com>
Signed-off-by: Steve French <stfrench@microsoft.com>
Acked-by: Enzo Matsumiya <ematsumiya@suse.de>
---
 fs/cifs/fs_context.c | 1 +
 1 file changed, 1 insertion(+)

--- a/fs/cifs/fs_context.c
+++ b/fs/cifs/fs_context.c
@@ -173,6 +173,7 @@ const struct fs_parameter_spec smb3_fs_p
 	fsparam_flag_no("mand", Opt_ignore),
 	fsparam_string("cred", Opt_ignore),
 	fsparam_string("credentials", Opt_ignore),
+	{}
 };
 
 const struct fs_parameter_description smb3_fs_parameters_desc = {
