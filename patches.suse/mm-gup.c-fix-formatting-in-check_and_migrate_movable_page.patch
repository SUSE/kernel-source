From: Alistair Popple <apopple@nvidia.com>
Date: Thu, 21 Jul 2022 12:05:52 +1000
Subject: mm/gup.c: fix formatting in check_and_migrate_movable_page()
Git-commit: 65974cb9107d9c6da18cefda22f84aeabc638b16
Patch-mainline: v6.0-rc1
References: jsc#PED-1294

Commit b05a79d4377f ("mm/gup: migrate device coherent pages when pinning
instead of failing") added a badly formatted if statement. Fix it.

Link: https://lkml.kernel.org/r/20220721020552.1397598-2-apopple@nvidia.com
Signed-off-by: Alistair Popple <apopple@nvidia.com>
Reported-by: David Hildenbrand <david@redhat.com>
Reviewed-by: David Hildenbrand <david@redhat.com>
Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
Signed-off-by: Vlastimil Babka <vbabka@suse.cz>
---
 mm/gup.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

--- a/mm/gup.c
+++ b/mm/gup.c
@@ -1894,8 +1894,8 @@ static long check_and_migrate_movable_pa
 				    thp_nr_pages(head));
 	}
 
-	if (!list_empty(&movable_page_list) || isolation_error_count
-		|| coherent_pages)
+	if (!list_empty(&movable_page_list) || isolation_error_count ||
+	    coherent_pages)
 		goto unpin_pages;
 
 	/*
