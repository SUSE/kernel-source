From: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Date: Thu, 4 Apr 2024 21:23:39 +0300
Subject: ACPI: x86: Introduce a Makefile
Patch-mainline: v6.10-rc1
Git-commit: d85eb4152bce8ce1f0e4f4c5b4226142de6220bd
References: jsc#PED-11164

There will be more modules coming here, so, introduce a separate
Makefile and include it in parent one via obj-$(CONFIG_X86).

Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 drivers/acpi/Makefile     |    5 ++---
 drivers/acpi/x86/Makefile |    4 ++++
 2 files changed, 6 insertions(+), 3 deletions(-)
 create mode 100644 drivers/acpi/x86/Makefile

--- a/drivers/acpi/Makefile
+++ b/drivers/acpi/Makefile
@@ -56,9 +56,6 @@ acpi-y				+= evged.o
 acpi-y				+= sysfs.o
 acpi-y				+= property.o
 acpi-$(CONFIG_X86)		+= acpi_cmos_rtc.o
-acpi-$(CONFIG_X86)		+= x86/apple.o
-acpi-$(CONFIG_X86)		+= x86/utils.o
-acpi-$(CONFIG_X86)		+= x86/s2idle.o
 acpi-$(CONFIG_DEBUG_FS)		+= debugfs.o
 acpi-y				+= acpi_lpat.o
 acpi-$(CONFIG_ACPI_FPDT)	+= acpi_fpdt.o
@@ -131,3 +128,5 @@ obj-y				+= dptf/
 obj-$(CONFIG_ARM64)		+= arm64/
 
 obj-$(CONFIG_ACPI_VIOT)		+= viot.o
+
+obj-$(CONFIG_X86)		+= x86/
--- /dev/null
+++ b/drivers/acpi/x86/Makefile
@@ -0,0 +1,4 @@
+obj-$(CONFIG_ACPI)	+= acpi-x86.o
+acpi-x86-y		+= apple.o
+acpi-x86-y		+= s2idle.o
+acpi-x86-y		+= utils.o
