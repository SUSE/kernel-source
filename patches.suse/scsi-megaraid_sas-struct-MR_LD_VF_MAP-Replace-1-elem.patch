From: Kees Cook <kees@kernel.org>
Date: Thu, 11 Jul 2024 08:58:23 -0700
Subject: scsi: megaraid_sas: struct MR_LD_VF_MAP: Replace 1-element arrays
 with flexible arrays
Patch-mainline: v6.12-rc1
Git-commit: ed8ab02c85b3494ec81f35f12e01f6678af09f6a
References: jsc#PED-11258

Replace the deprecated[1] use of a 1-element array in struct MR_LD_VF_MAP
with a modern flexible array.

No binary differences are present after this conversion.

Link: https://github.com/KSPP/linux/issues/79 [1]
Signed-off-by: Kees Cook <kees@kernel.org>
Link: https://lore.kernel.org/r/20240711155823.work.778-kees@kernel.org
Reviewed-by: Gustavo A. R. Silva <gustavoars@kernel.org>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Acked-by: Martin Wilck <mwilck@suse.com>
---
 drivers/scsi/megaraid/megaraid_sas.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/scsi/megaraid/megaraid_sas.h
+++ b/drivers/scsi/megaraid/megaraid_sas.h
@@ -2473,7 +2473,7 @@ struct MR_LD_VF_MAP {
 	union MR_LD_REF ref;
 	u8 ldVfCount;
 	u8 reserved[6];
-	u8 policy[1];
+	u8 policy[];
 };
 
 struct MR_LD_VF_AFFILIATION {
