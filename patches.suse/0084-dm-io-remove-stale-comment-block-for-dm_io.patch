From a6a4901a5ef35070297c769120fea04145df0aaa Mon Sep 17 00:00:00 2001
From: Barry Song <21cnbao@gmail.com>
Date: Sat, 19 Feb 2022 06:27:24 +0800
Subject: [PATCH] dm io: remove stale comment block for dm_io()
Git-commit: a6a4901a5ef35070297c769120fea04145df0aaa
Patch-mainline: v5.18-rc1
References: jsc#PED-2765

Commit 7eaceaccab5f ("block: remove per-queue plugging") dropped
unplug_delay and blk_unplug(). Plus, the current kernel has no
fundamental difference between sync_io() and async_io() except
sync_io() uses sync_io_complete() as the notify.fn and explicitly
calls wait_for_completion_io() to sync. The comment isn't valid
any more.

Reviewed-by: Christoph Hellwig <hch@lst.de>
Signed-off-by: Barry Song <song.bao.hua@hisilicon.com>
Signed-off-by: Mike Snitzer <snitzer@redhat.com>
Signed-off-by: Coly Li <colyli@suse.de>

---
 drivers/md/dm-io.c | 8 --------
 1 file changed, 8 deletions(-)

diff --git a/drivers/md/dm-io.c b/drivers/md/dm-io.c
index 23e038f8dc84..32f8f4ed5e0d 100644
--- a/drivers/md/dm-io.c
+++ b/drivers/md/dm-io.c
@@ -525,14 +525,6 @@ static int dp_init(struct dm_io_request *io_req, struct dpages *dp,
 	return 0;
 }
 
-/*
- * New collapsed (a)synchronous interface.
- *
- * If the IO is asynchronous (i.e. it has notify.fn), you must either unplug
- * the queue with blk_unplug() some time later or set REQ_SYNC in
- * io_req->bi_opf. If you fail to do one of these, the IO will be submitted to
- * the disk after q->unplug_delay, which defaults to 3ms in blk-settings.c.
- */
 int dm_io(struct dm_io_request *io_req, unsigned num_regions,
 	  struct dm_io_region *where, unsigned long *sync_error_bits)
 {
-- 
2.35.3

