From: Zhe Qiao <qiaozhe@iscas.ac.cn>
Date: Fri, 12 Sep 2025 21:54:07 +0200
Subject: ACPICA: Change the compilation conditions
Patch-mainline: v6.18-rc1
Git-commit: 9d2f57fee5a0bf5b3f7ef690ba90d8d8ba1c0c96
References: jsc#PED-14260

To prevent the risk of undefined variables.

Link: https://github.com/acpica/acpica/commit/9f86d4c9
Signed-off-by: Zhe Qiao <qiaozhe@iscas.ac.cn>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 drivers/acpi/acpica/psopinfo.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

--- a/drivers/acpi/acpica/psopinfo.c
+++ b/drivers/acpi/acpica/psopinfo.c
@@ -34,6 +34,9 @@ static const u8 acpi_gbl_argument_count[
 
 const struct acpi_opcode_info *acpi_ps_get_opcode_info(u16 opcode)
 {
+#if defined ACPI_ASL_COMPILER && defined ACPI_DEBUG_OUTPUT
+	const char *opcode_name = "Unknown AML opcode";
+#endif
 
 	ACPI_FUNCTION_NAME(ps_get_opcode_info);
 
@@ -59,8 +62,6 @@ const struct acpi_opcode_info *acpi_ps_g
 #if defined ACPI_ASL_COMPILER && defined ACPI_DEBUG_OUTPUT
 #include "asldefine.h"
 
-	const char *opcode_name = "Unknown AML opcode";
-
 	switch (opcode) {
 	case AML_RAW_DATA_BYTE:
 		opcode_name = "-Raw Data Byte-";
