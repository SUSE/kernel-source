From e9c5df6a743047154d85e4bf9fbfd64bb1562dce Mon Sep 17 00:00:00 2001
From: Oliver Neukum <oneukum@suse.com>
Date: Wed, 28 Feb 2024 13:04:41 +0100
Subject: [PATCH 4/5] padding: ehci core structures
Patch-mainline: Never, kabi padding
References: bsc#1220369

Covering core data structures.

Signed-off-by: Oliver Neukum <oneukum@suse.com>
---
 drivers/usb/host/ehci.h | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/drivers/usb/host/ehci.h b/drivers/usb/host/ehci.h
index 1441e3400..9ded84dc2 100644
--- a/drivers/usb/host/ehci.h
+++ b/drivers/usb/host/ehci.h
@@ -258,6 +258,7 @@ struct ehci_hcd {			/* one per controller */
 						/* us budgeted per uframe */
 	struct list_head	tt_list;
 
+	void *suse_kabi_padding;
 	/* platform-specific data -- must come last */
 	unsigned long		priv[] __aligned(sizeof(s64));
 };
@@ -319,6 +320,7 @@ struct ehci_qtd {
 	struct list_head	qtd_list;		/* sw qtd list */
 	struct urb		*urb;			/* qtd's urb */
 	size_t			length;			/* length of buffer */
+	void *suse_kabi_padding;
 } __aligned(32);
 
 /* mask NakCnt+T in qh->hw_alt_next */
@@ -437,6 +439,7 @@ struct ehci_qh {
 #define QH_UNLINK_REQUESTED	0x20		/* Disable, reset, or dequeue */
 
 	u8			gap_uf;		/* uframes split/csplit gap */
+	void *suse_kabi_padding;
 
 	unsigned		is_out:1;	/* bulk or intr OUT */
 	unsigned		clearing_tt:1;	/* Clear-TT-Buf in progress */
@@ -464,6 +467,7 @@ struct ehci_iso_sched {
 	struct list_head	td_list;
 	unsigned		span;
 	unsigned		first_packet;
+	void *suse_kabi_padding;
 	struct ehci_iso_packet	packet[];
 };
 
@@ -887,6 +891,7 @@ struct ehci_driver_overrides {
 	int		(*reset)(struct usb_hcd *hcd);
 	int		(*port_power)(struct usb_hcd *hcd,
 				int portnum, bool enable);
+	void *suse_kabi_padding;
 };
 
 extern void	ehci_init_driver(struct hc_driver *drv,
-- 
2.43.2

