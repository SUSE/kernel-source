From 811cdb5a563d0db38f5b5758c67b0bdaf34ff576 Mon Sep 17 00:00:00 2001
From: Michal Suchanek <msuchanek@suse.de>
Date: Thu, 7 Sep 2023 18:44:05 +0200
Subject: [PATCH] integrity: powerpc: Do not select CA_MACHINE_KEYRING

References: jsc#PED-5085
Patch-mainline: Submitted https://lore.kernel.org/linux-integrity/20230907165224.32256-1-msuchanek@suse.de/

No other platform needs CA_MACHINE_KEYRING, either.

This is policy that should be decided by the administrator, not Kconfig
dependencies.

cc: joeyli <jlee@suse.com>
Signed-off-by: Michal Suchanek <msuchanek@suse.de>
---
 security/integrity/Kconfig | 2 --
 1 file changed, 2 deletions(-)

diff --git a/security/integrity/Kconfig b/security/integrity/Kconfig
index 232191ee09e3..b6e074ac0227 100644
--- a/security/integrity/Kconfig
+++ b/security/integrity/Kconfig
@@ -68,8 +68,6 @@ config INTEGRITY_MACHINE_KEYRING
 	depends on INTEGRITY_ASYMMETRIC_KEYS
 	depends on SYSTEM_BLACKLIST_KEYRING
 	depends on LOAD_UEFI_KEYS || LOAD_PPC_KEYS
-	select INTEGRITY_CA_MACHINE_KEYRING if LOAD_PPC_KEYS
-	select INTEGRITY_CA_MACHINE_KEYRING_MAX if LOAD_PPC_KEYS
 	help
 	 If set, provide a keyring to which Machine Owner Keys (MOK) may
 	 be added. This keyring shall contain just MOK keys.  Unlike keys
-- 
2.41.0

