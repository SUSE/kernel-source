From f8043ef50acaeb396702481bd2701066bac8a2bc Mon Sep 17 00:00:00 2001
From: Hans de Goede <hdegoede@redhat.com>
Date: Mon, 16 Aug 2021 13:47:22 +0200
Subject: [PATCH] ASoC: Intel: bytcr_rt5640: Use cfg-lineout:2 in the components string
Git-commit: f8043ef50acaeb396702481bd2701066bac8a2bc
Patch-mainline: v5.15-rc1
References: bsc#1192354

Use "cfg-lineout:2" in the components string on boards with a lineout
instead of "cfg-lineout:1", this better mirrors the speaker part of
the components string where we use "cfg-spk:1" for devices with a single
speaker and "cfg-spk:2" for stereo speakers.

The lineout is stereo by default, so using ":2" makes more sense, this
way we keep ":1" reserved in case we ever encounter a device with
a mono lineout.

We can make this change without breaking userspace because no kernel
has shipped with "cfg-lineout:1" in the component-string yet; and there
also are no userspace bits (UCM profiles) checking for this yet.

Signed-off-by: Hans de Goede <hdegoede@redhat.com>
Acked-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Link: https://lore.kernel.org/r/20210816114722.107363-1-hdegoede@redhat.com
Signed-off-by: Mark Brown <broonie@kernel.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 sound/soc/intel/boards/bytcr_rt5640.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/sound/soc/intel/boards/bytcr_rt5640.c b/sound/soc/intel/boards/bytcr_rt5640.c
index fecccff76caf..d9e23c793f96 100644
--- a/sound/soc/intel/boards/bytcr_rt5640.c
+++ b/sound/soc/intel/boards/bytcr_rt5640.c
@@ -1544,7 +1544,7 @@ static int snd_byt_rt5640_mc_probe(struct platform_device *pdev)
 		if (byt_rt5640_quirk & BYT_RT5640_LINEOUT_AS_HP2)
 			lineout_string = " cfg-hp2:lineout";
 		else
-			lineout_string = " cfg-lineout:1";
+			lineout_string = " cfg-lineout:2";
 	}
 
 	if (byt_rt5640_quirk & BYT_RT5640_HSMIC2_ON_IN1)
-- 
2.26.2

