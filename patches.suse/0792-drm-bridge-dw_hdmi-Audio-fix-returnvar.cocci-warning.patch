From f0ae8eb22d8df521348bd909e79fa0d4360046aa Mon Sep 17 00:00:00 2001
From: kernel test robot <lkp@intel.com>
Date: Thu, 21 Apr 2022 23:09:46 +0800
Subject: drm: bridge: dw_hdmi: Audio: fix returnvar.cocci warnings
Git-commit: 0e48711f602064705bf81eebe6f627ee1bc11d3b
Patch-mainline: v5.19-rc1
References: jsc#PED-1166 jsc#PED-1168 jsc#PED-1170 jsc#PED-1218 jsc#PED-1220 jsc#PED-1222 jsc#PED-1223 jsc#PED-1225

drivers/gpu/drm/bridge/synopsys/dw-hdmi-gp-audio.c:80:5-8: Unneeded variable: "ret". Return "0" on line 94
drivers/gpu/drm/bridge/synopsys/dw-hdmi-gp-audio.c:105:5-8: Unneeded variable: "ret". Return "0" on line 112

 Remove unneeded variable used to store return value.

Generated by: scripts/coccinelle/misc/returnvar.cocci

CC: Sandor Yu <Sandor.yu@nxp.com>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: kernel test robot <lkp@intel.com>
Reviewed-by: Sandor Yu <Sandor.yu@nxp.com>
Reviewed-by: Neil Armstrong <narmstrong@baylibre.com>
Signed-off-by: Neil Armstrong <narmstrong@baylibre.com>
Link: https://patchwork.freedesktop.org/patch/msgid/YmFzutFV/iDyEQF2@dd18de969aa6
Acked-by: Patrik Jakobsson <pjakobsson@suse.de>
---
 drivers/gpu/drm/bridge/synopsys/dw-hdmi-gp-audio.c | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

diff --git a/drivers/gpu/drm/bridge/synopsys/dw-hdmi-gp-audio.c b/drivers/gpu/drm/bridge/synopsys/dw-hdmi-gp-audio.c
index 11ea1c84eb35..557966239677 100644
--- a/drivers/gpu/drm/bridge/synopsys/dw-hdmi-gp-audio.c
+++ b/drivers/gpu/drm/bridge/synopsys/dw-hdmi-gp-audio.c
@@ -77,7 +77,6 @@ static int audio_hw_params(struct device *dev,  void *data,
 			   struct hdmi_codec_params *params)
 {
 	struct snd_dw_hdmi *dw = dev_get_drvdata(dev);
-	int ret = 0;
 	u8 ca;
 
 	dw_hdmi_set_sample_rate(dw->data.hdmi, params->sample_rate);
@@ -91,7 +90,7 @@ static int audio_hw_params(struct device *dev,  void *data,
 				   params->iec.status[0] & IEC958_AES0_NONAUDIO);
 	dw_hdmi_set_sample_width(dw->data.hdmi, params->sample_width);
 
-	return ret;
+	return 0;
 }
 
 static void audio_shutdown(struct device *dev, void *data)
@@ -102,14 +101,13 @@ static int audio_mute_stream(struct device *dev, void *data,
 			     bool enable, int direction)
 {
 	struct snd_dw_hdmi *dw = dev_get_drvdata(dev);
-	int ret = 0;
 
 	if (!enable)
 		dw_hdmi_audio_enable(dw->data.hdmi);
 	else
 		dw_hdmi_audio_disable(dw->data.hdmi);
 
-	return ret;
+	return 0;
 }
 
 static int audio_get_eld(struct device *dev, void *data,
-- 
2.38.1

