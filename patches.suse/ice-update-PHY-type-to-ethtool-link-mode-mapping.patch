From: Paul Greenwalt <paul.greenwalt@intel.com>
Date: Wed, 26 Apr 2023 11:50:47 -0700
Subject: ice: update PHY type to ethtool link mode mapping
Patch-mainline: v6.5-rc1
Git-commit: 49eb1c1f2f05fe948b209ad359283355d3428d89
References: jsc#PED-4876

Some link modes can be more accurately reported due to newer link mode
values that have been added to the kernel; update those PHY type to report
modes that better reflect the link mode.

Signed-off-by: Paul Greenwalt <paul.greenwalt@intel.com>
Tested-by: Pucha Himasekhar Reddy <himasekharx.reddy.pucha@intel.com> (A Contingent worker at Intel)
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/intel/ice/ice_ethtool.h |   38 +++++++++++++--------------
 1 file changed, 19 insertions(+), 19 deletions(-)

--- a/drivers/net/ethernet/intel/ice/ice_ethtool.h
+++ b/drivers/net/ethernet/intel/ice/ice_ethtool.h
@@ -36,11 +36,11 @@ phy_type_low_lkup[] = {
 	[10] = ICE_PHY_TYPE(5GB, 5000baseT_Full),
 	[11] = ICE_PHY_TYPE(5GB, 5000baseT_Full),
 	[12] = ICE_PHY_TYPE(10GB, 10000baseT_Full),
-	[13] = ICE_PHY_TYPE(10GB, 10000baseT_Full),
+	[13] = ICE_PHY_TYPE(10GB, 10000baseCR_Full),
 	[14] = ICE_PHY_TYPE(10GB, 10000baseSR_Full),
 	[15] = ICE_PHY_TYPE(10GB, 10000baseLR_Full),
 	[16] = ICE_PHY_TYPE(10GB, 10000baseKR_Full),
-	[17] = ICE_PHY_TYPE(10GB, 10000baseT_Full),
+	[17] = ICE_PHY_TYPE(10GB, 10000baseCR_Full),
 	[18] = ICE_PHY_TYPE(10GB, 10000baseKR_Full),
 	[19] = ICE_PHY_TYPE(25GB, 25000baseCR_Full),
 	[20] = ICE_PHY_TYPE(25GB, 25000baseCR_Full),
@@ -51,36 +51,36 @@ phy_type_low_lkup[] = {
 	[25] = ICE_PHY_TYPE(25GB, 25000baseKR_Full),
 	[26] = ICE_PHY_TYPE(25GB, 25000baseKR_Full),
 	[27] = ICE_PHY_TYPE(25GB, 25000baseKR_Full),
-	[28] = ICE_PHY_TYPE(25GB, 25000baseCR_Full),
-	[29] = ICE_PHY_TYPE(25GB, 25000baseKR_Full),
+	[28] = ICE_PHY_TYPE(25GB, 25000baseSR_Full),
+	[29] = ICE_PHY_TYPE(25GB, 25000baseCR_Full),
 	[30] = ICE_PHY_TYPE(40GB, 40000baseCR4_Full),
 	[31] = ICE_PHY_TYPE(40GB, 40000baseSR4_Full),
 	[32] = ICE_PHY_TYPE(40GB, 40000baseLR4_Full),
 	[33] = ICE_PHY_TYPE(40GB, 40000baseKR4_Full),
-	[34] = ICE_PHY_TYPE(40GB, 40000baseCR4_Full),
+	[34] = ICE_PHY_TYPE(40GB, 40000baseSR4_Full),
 	[35] = ICE_PHY_TYPE(40GB, 40000baseCR4_Full),
 	[36] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
 	[37] = ICE_PHY_TYPE(50GB, 50000baseSR2_Full),
 	[38] = ICE_PHY_TYPE(50GB, 50000baseSR2_Full),
 	[39] = ICE_PHY_TYPE(50GB, 50000baseKR2_Full),
-	[40] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
+	[40] = ICE_PHY_TYPE(50GB, 50000baseSR2_Full),
 	[41] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
-	[42] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
+	[42] = ICE_PHY_TYPE(50GB, 50000baseSR2_Full),
 	[43] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
-	[44] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
-	[45] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
-	[46] = ICE_PHY_TYPE(50GB, 50000baseSR2_Full),
-	[47] = ICE_PHY_TYPE(50GB, 50000baseSR2_Full),
-	[48] = ICE_PHY_TYPE(50GB, 50000baseKR2_Full),
-	[49] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
-	[50] = ICE_PHY_TYPE(50GB, 50000baseCR2_Full),
+	[44] = ICE_PHY_TYPE(50GB, 50000baseCR_Full),
+	[45] = ICE_PHY_TYPE(50GB, 50000baseSR_Full),
+	[46] = ICE_PHY_TYPE(50GB, 50000baseLR_ER_FR_Full),
+	[47] = ICE_PHY_TYPE(50GB, 50000baseLR_ER_FR_Full),
+	[48] = ICE_PHY_TYPE(50GB, 50000baseKR_Full),
+	[49] = ICE_PHY_TYPE(50GB, 50000baseSR_Full),
+	[50] = ICE_PHY_TYPE(50GB, 50000baseCR_Full),
 	[51] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
 	[52] = ICE_PHY_TYPE(100GB, 100000baseSR4_Full),
 	[53] = ICE_PHY_TYPE(100GB, 100000baseLR4_ER4_Full),
 	[54] = ICE_PHY_TYPE(100GB, 100000baseKR4_Full),
 	[55] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
 	[56] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
-	[57] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
+	[57] = ICE_PHY_TYPE(100GB, 100000baseSR4_Full),
 	[58] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
 	[59] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
 	[60] = ICE_PHY_TYPE(100GB, 100000baseKR4_Full),
@@ -96,10 +96,10 @@ phy_type_low_lkup[] = {
 static const struct ice_phy_type_to_ethtool
 phy_type_high_lkup[] = {
 	[0] = ICE_PHY_TYPE(100GB, 100000baseKR2_Full),
-	[1] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
-	[2] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
-	[3] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
-	[4] = ICE_PHY_TYPE(100GB, 100000baseCR4_Full),
+	[1] = ICE_PHY_TYPE(100GB, 100000baseSR2_Full),
+	[2] = ICE_PHY_TYPE(100GB, 100000baseCR2_Full),
+	[3] = ICE_PHY_TYPE(100GB, 100000baseSR2_Full),
+	[4] = ICE_PHY_TYPE(100GB, 100000baseCR2_Full),
 };
 
 #endif /* !_ICE_ETHTOOL_H_ */
