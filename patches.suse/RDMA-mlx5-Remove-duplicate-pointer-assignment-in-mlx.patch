From: Daisuke Matsuda <matsuda-daisuke@fujitsu.com>
Date: Wed, 18 May 2022 04:49:14 +0000
Subject: RDMA/mlx5: Remove duplicate pointer assignment in
 mlx5_ib_alloc_implicit_mr()
Patch-mainline: v5.19-rc1
Git-commit: 988d74deaa46a9c63d2061c270692d6e6192c6c1
References: jsc#PED-1552

The pointer imr->umem is assigned twice. Fix this by removing the
redundant one.

Link: https://lore.kernel.org/r/20220518044914.1903125-1-matsuda-daisuke@fujitsu.com
Signed-off-by: Daisuke Matsuda <matsuda-daisuke@fujitsu.com>
Signed-off-by: Jason Gunthorpe <jgg@nvidia.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/hw/mlx5/odp.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/infiniband/hw/mlx5/odp.c
+++ b/drivers/infiniband/hw/mlx5/odp.c
@@ -509,7 +509,6 @@ struct mlx5_ib_mr *mlx5_ib_alloc_implici
 	imr->ibmr.lkey = imr->mmkey.key;
 	imr->ibmr.rkey = imr->mmkey.key;
 	imr->ibmr.device = &dev->ib_dev;
-	imr->umem = &umem_odp->umem;
 	imr->is_odp_implicit = true;
 	xa_init(&imr->implicit_children);
 
