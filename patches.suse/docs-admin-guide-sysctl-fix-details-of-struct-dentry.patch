From 92224e806f7c8e133b2249408958ca988cf7413f Mon Sep 17 00:00:00 2001
From: Randy Dunlap <rdunlap@infradead.org>
Date: Sat, 23 Sep 2023 12:51:44 -0700
Subject: [PATCH] docs: admin-guide: sysctl: fix details of struct dentry_stat_t
Git-commit: 92224e806f7c8e133b2249408958ca988cf7413f
Patch-mainline: v6.7-rc1
References: git-fixes

Commit c8c0c239d5ab moved struct dentry_stat_t to fs/dcache.c but
did not update its location in Documentation, so update that now.
Also change each struct member from int to long as done in
commit 3942c07ccf98.

Fixes: c8c0c239d5ab ("fs: move dcache sysctls to its own file")
Fixes: 3942c07ccf98 ("fs: bump inode and dentry counters to long")
Signed-off-by: Randy Dunlap <rdunlap@infradead.org>
Cc: Jonathan Corbet <corbet@lwn.net>
Cc: linux-doc@vger.kernel.org
Cc: Alexander Viro <viro@zeniv.linux.org.uk>
Cc: Christian Brauner <brauner@kernel.org>
Cc: linux-fsdevel@vger.kernel.org
Cc: Luis Chamberlain <mcgrof@kernel.org>
Cc: Arnd Bergmann <arnd@arndb.de>
Cc: Glauber Costa <glommer@openvz.org>
Acked-by: Christian Brauner <brauner@kernel.org>
Signed-off-by: Jonathan Corbet <corbet@lwn.net>
Link: https://lore.kernel.org/r/20230923195144.26043-1-rdunlap@infradead.org
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 Documentation/admin-guide/sysctl/fs.rst | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

diff --git a/Documentation/admin-guide/sysctl/fs.rst b/Documentation/admin-guide/sysctl/fs.rst
index a321b84eccaa..47499a1742bd 100644
--- a/Documentation/admin-guide/sysctl/fs.rst
+++ b/Documentation/admin-guide/sysctl/fs.rst
@@ -42,16 +42,16 @@ pre-allocation or re-sizing of any kernel data structures.
 dentry-state
 ------------
 
-This file shows the values in ``struct dentry_stat``, as defined in
-``linux/include/linux/dcache.h``::
+This file shows the values in ``struct dentry_stat_t``, as defined in
+``fs/dcache.c``::
 
   struct dentry_stat_t dentry_stat {
-        int nr_dentry;
-        int nr_unused;
-        int age_limit;         /* age in seconds */
-        int want_pages;        /* pages requested by system */
-        int nr_negative;       /* # of unused negative dentries */
-        int dummy;             /* Reserved for future use */
+        long nr_dentry;
+        long nr_unused;
+        long age_limit;         /* age in seconds */
+        long want_pages;        /* pages requested by system */
+        long nr_negative;       /* # of unused negative dentries */
+        long dummy;             /* Reserved for future use */
   };
 
 Dentries are dynamically allocated and deallocated.
-- 
2.35.3

