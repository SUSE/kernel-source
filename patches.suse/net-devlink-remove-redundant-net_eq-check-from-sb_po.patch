From: Jiri Pirko <jiri@nvidia.com>
Date: Wed, 27 Jul 2022 07:59:12 +0200
Subject: net: devlink: remove redundant net_eq() check from
 sb_pool_get_dumpit()
Patch-mainline: v6.0-rc1
Git-commit: 2bb88b2c4f7334bd91c734f3983492a133250edb
References: jsc#PED-1549

The net_eq() check is already performed inside
devlinks_xa_for_each_registered_get() helper, so remove the redundant
appearance.

Signed-off-by: Jiri Pirko <jiri@nvidia.com>
Link: https://lore.kernel.org/r/20220727055912.568391-1-jiri@resnulli.us
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 net/core/devlink.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

--- a/net/core/devlink.c
+++ b/net/core/devlink.c
@@ -2642,8 +2642,7 @@ static int devlink_nl_cmd_sb_pool_get_du
 
 	mutex_lock(&devlink_mutex);
 	devlinks_xa_for_each_registered_get(sock_net(msg->sk), index, devlink) {
-		if (!net_eq(devlink_net(devlink), sock_net(msg->sk)) ||
-		    !devlink->ops->sb_pool_get)
+		if (!devlink->ops->sb_pool_get)
 			goto retry;
 
 		devl_lock(devlink);
