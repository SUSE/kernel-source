From: "Jiri Slaby (SUSE)" <jirislaby@kernel.org>
Date: Tue, 13 Feb 2024 12:20:46 +0100
Subject: EDAC/device: Remove edac_dev_sysfs_block_attribute::{block,value}
Patch-mainline: v6.10-rc1
Git-commit: 3667a35a50f4fde8400ab988340a6f84aaebda7b
References: jsc#PED-11164

They're unused. And they were never used since their addition in

  fd309a9d8e63 ("drivers/edac: fix leaf sysfs attribute")

Drop it.

Found by https://github.com/jirislaby/clang-struct.

Signed-off-by: Jiri Slaby (SUSE) <jirislaby@kernel.org>
Signed-off-by: Borislav Petkov (AMD) <bp@alien8.de>
Link: https://lore.kernel.org/r/20240213112051.27715-3-jirislaby@kernel.org
Signed-off-by: Borislav Petkov (AMD) <bp@alien8.de>
Acked-by: Chun-Yi Lee <jlee@suse.com>
---
 drivers/edac/edac_device.c |    2 --
 drivers/edac/edac_device.h |    6 ------
 2 files changed, 8 deletions(-)

--- a/drivers/edac/edac_device.c
+++ b/drivers/edac/edac_device.c
@@ -162,8 +162,6 @@ edac_device_alloc_ctl_info(unsigned pvt_
 				attrib->show = attrib_spec[attr].show;
 				attrib->store = attrib_spec[attr].store;
 
-				attrib->block = blk;	/* up link */
-
 				edac_dbg(4, "alloc-attrib=%p attrib_name='%s' attrib-spec=%p spec-name=%s\n",
 					 attrib, attrib->attr.name,
 					 &attrib_spec[attr],
--- a/drivers/edac/edac_device.h
+++ b/drivers/edac/edac_device.h
@@ -99,18 +99,12 @@ struct edac_dev_sysfs_attribute {
  *	can have an array of the following. The show and store functions
  *	will be filled in with the show/store function in the
  *	low level driver.
- *
- *	The 'value' field will be the actual value field used for
- *	counting
  */
 struct edac_dev_sysfs_block_attribute {
 	struct attribute attr;
 	ssize_t (*show)(struct kobject *, struct attribute *, char *);
 	ssize_t (*store)(struct kobject *, struct attribute *,
 			const char *, size_t);
-	struct edac_device_block *block;
-
-	unsigned int value;
 };
 
 /* device block control structure */
