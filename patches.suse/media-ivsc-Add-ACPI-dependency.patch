From 9a5d660fdb25d20748d7f9e9559c86073c3bb368 Mon Sep 17 00:00:00 2001
From: Sakari Ailus <sakari.ailus@linux.intel.com>
Date: Wed, 16 Aug 2023 16:35:26 +0300
Subject: [PATCH] media: ivsc: Add ACPI dependency
Git-commit: 9a5d660fdb25d20748d7f9e9559c86073c3bb368
References: jsc#PED-10837
Patch-mainline: v6.6-rc1

The IVSC driver only works in ACPI systems so make it depend on ACPI.

Compiling it elsewhere has little if any value.

Reported-by: Randy Dunlap <rdunlap@infradead.org>
Fixes: 29006e196a56 ("media: pci: intel: ivsc: Add CSI submodule")
Signed-off-by: Sakari Ailus <sakari.ailus@linux.intel.com>
Reviewed-by: Randy Dunlap <rdunlap@infradead.org>
Tested-by: Randy Dunlap <rdunlap@infradead.org> # build-tested
Signed-off-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>
Signed-off-by: Oliver Neukum <oneukum@suse.com>

---
 drivers/media/pci/intel/ivsc/Kconfig | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/media/pci/intel/ivsc/Kconfig b/drivers/media/pci/intel/ivsc/Kconfig
index 9535ac10f4f7..1ef1c4e3750d 100644
--- a/drivers/media/pci/intel/ivsc/Kconfig
+++ b/drivers/media/pci/intel/ivsc/Kconfig
@@ -3,7 +3,7 @@
 
 config INTEL_VSC
 	tristate "Intel Visual Sensing Controller"
-	depends on INTEL_MEI
+	depends on INTEL_MEI && ACPI
 	help
 	  This adds support for Intel Visual Sensing Controller (IVSC).
 
-- 
2.47.1

