From: Joseph Hwang <josephsih@chromium.org>
Date: Sun, 26 Sep 2021 15:07:48 +0800
Subject: Bluetooth: btrtl: enable Realtek 8822C/8852A to support AOSP
 extension
Patch-mainline: v5.16-rc1
Git-commit: 099c6d31764b97d585145339077821d39fa8fcb3
References: jsc#PED-1407

This patch enables Realtek 8822C and 8852A to support the AOSP
extension.

Reviewed-by: Miao-chen Chou <mcchou@chromium.org>
Signed-off-by: Joseph Hwang <josephsih@chromium.org>
Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 drivers/bluetooth/btrtl.c |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/bluetooth/btrtl.c
+++ b/drivers/bluetooth/btrtl.c
@@ -746,6 +746,7 @@ void btrtl_set_quirks(struct hci_dev *hd
 	case CHIP_ID_8852A:
 		set_bit(HCI_QUIRK_VALID_LE_STATES, &hdev->quirks);
 		set_bit(HCI_QUIRK_WIDEBAND_SPEECH_SUPPORTED, &hdev->quirks);
+		hci_set_aosp_capable(hdev);
 		break;
 	default:
 		rtl_dev_dbg(hdev, "Central-peripheral role not enabled.");
