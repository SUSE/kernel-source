From c2c25e85df316a624e4a8ee85d65ea29265f486d Mon Sep 17 00:00:00 2001
From: Zhang Rui <rui.zhang@intel.com>
Date: Mon, 27 Mar 2023 14:57:06 +0800
Subject: [PATCH] tools/power/turbostat: Remove a redundant check
Git-commit: c2c25e85df316a624e4a8ee85d65ea29265f486d
Patch-mainline: v6.7-rc2
References: bsc#1218556

Platforms with has_msr_misc_pwr_mgmt set is a subset of platforms with
has_nhm_msrs set.

Thus remove the redudant check for platform->has_nhm_msrs.

Signed-off-by: Zhang Rui <rui.zhang@intel.com>
Reviewed-by: Len Brown <len.brown@intel.com>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 tools/power/x86/turbostat/turbostat.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/tools/power/x86/turbostat/turbostat.c b/tools/power/x86/turbostat/turbostat.c
index bc221e800aec..4eb10491f714 100644
--- a/tools/power/x86/turbostat/turbostat.c
+++ b/tools/power/x86/turbostat/turbostat.c
@@ -5665,9 +5665,6 @@ void decode_misc_pwr_mgmt_msr(void)
 {
 	unsigned long long msr;
 
-	if (!platform->has_nhm_msrs)
-		return;
-
 	if (!platform->has_msr_misc_pwr_mgmt)
 		return;
 
-- 
2.35.3

