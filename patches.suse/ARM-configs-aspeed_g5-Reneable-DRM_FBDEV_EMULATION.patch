From 3c8cf108d0f3f008279bb0685fc521695270d121 Mon Sep 17 00:00:00 2001
From: Joel Stanley <joel@jms.id.au>
Date: Tue, 14 Sep 2021 18:04:42 +0930
Subject: [PATCH] ARM: configs: aspeed_g5: Reneable DRM_FBDEV_EMULATION
Git-commit: 3c8cf108d0f3f008279bb0685fc521695270d121
Patch-mainline: v5.16-rc1
References: git-fixes

DRM_FBDEV_EMULATION previously selected FB and was default y as long as DRM
was enabled. In commit f611b1e7624c ("drm: Avoid circular dependencies for
CONFIG_FB") the select was replaced with a depends on FB, disabling
DRM_FBDEV_EMULATION for configurations that had it enabled.

Fixes: f611b1e7624c ("drm: Avoid circular dependencies for CONFIG_FB")
Signed-off-by: Joel Stanley <joel@jms.id.au>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 arch/arm/configs/aspeed_g5_defconfig | 1 +
 1 file changed, 1 insertion(+)

diff --git a/arch/arm/configs/aspeed_g5_defconfig b/arch/arm/configs/aspeed_g5_defconfig
index 480dbbb4ff91..b602743ff7fd 100644
--- a/arch/arm/configs/aspeed_g5_defconfig
+++ b/arch/arm/configs/aspeed_g5_defconfig
@@ -181,6 +181,7 @@ CONFIG_V4L_PLATFORM_DRIVERS=y
 CONFIG_VIDEO_ASPEED=y
 CONFIG_DRM=y
 CONFIG_DRM_ASPEED_GFX=y
+CONFIG_FB=y
 CONFIG_USB=y
 CONFIG_USB_ANNOUNCE_NEW_DEVICES=y
 CONFIG_USB_DYNAMIC_MINORS=y
-- 
2.31.1

