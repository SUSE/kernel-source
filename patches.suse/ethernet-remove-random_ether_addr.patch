From: Jakub Kicinski <kuba@kernel.org>
Date: Wed, 13 Oct 2021 13:54:50 -0700
Subject: ethernet: remove random_ether_addr()
Patch-mainline: v5.16-rc1
Git-commit: ba530fea8ca1b57ee71d4e62f287a5d7ed92f789
References: jsc#PED-1565

random_ether_addr() was the original name of the helper which
was kept for backward compatibility (?) after the rename in
commit 0a4dd594982a ("etherdevice: Rename random_ether_addr
to eth_random_addr").

We have a single random_ether_addr() caller left in tree
while there are 70 callers of eth_random_addr().
Time to drop this define.

Reviewed-by: Simon Horman <simon.horman@corigine.com>
Link: https://lore.kernel.org/r/20211013205450.328092-1-kuba@kernel.org
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/ti/am65-cpsw-nuss.c |    2 +-
 include/linux/etherdevice.h              |    2 --
 2 files changed, 1 insertion(+), 3 deletions(-)

--- a/drivers/net/ethernet/ti/am65-cpsw-nuss.c
+++ b/drivers/net/ethernet/ti/am65-cpsw-nuss.c
@@ -1917,7 +1917,7 @@ static int am65_cpsw_nuss_init_slave_por
 							port->port_id,
 							port->slave.mac_addr);
 			if (!is_valid_ether_addr(port->slave.mac_addr)) {
-				random_ether_addr(port->slave.mac_addr);
+				eth_random_addr(port->slave.mac_addr);
 				dev_err(dev, "Use random MAC address\n");
 			}
 		}
--- a/include/linux/etherdevice.h
+++ b/include/linux/etherdevice.h
@@ -233,8 +233,6 @@ static inline void eth_random_addr(u8 *a
 	addr[0] |= 0x02;	/* set local assignment bit (IEEE802) */
 }
 
-#define random_ether_addr(addr) eth_random_addr(addr)
-
 /**
  * eth_broadcast_addr - Assign broadcast address
  * @addr: Pointer to a six-byte array containing the Ethernet address
