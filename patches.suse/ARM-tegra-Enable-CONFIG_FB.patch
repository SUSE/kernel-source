From a422eec5bec79fc4a27da84e96a24c8ca3798341 Mon Sep 17 00:00:00 2001
From: Dmitry Osipenko <digetx@gmail.com>
Date: Wed, 14 Jul 2021 05:51:22 +0300
Subject: [PATCH] ARM: tegra: Enable CONFIG_FB
Git-commit: a422eec5bec79fc4a27da84e96a24c8ca3798341
Patch-mainline: v5.15-rc1
References: git-fixes

Previously CONFIG_FB was auto-selected, now it's not. We completely lost
framebuffer in tegra_defconfig. Select the CONFIG_FB to fix it.

Fixes: f611b1e7624c ("drm: Avoid circular dependencies for CONFIG_FB")
Signed-off-by: Dmitry Osipenko <digetx@gmail.com>
Signed-off-by: Thierry Reding <treding@nvidia.com>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 arch/arm/configs/tegra_defconfig | 1 +
 1 file changed, 1 insertion(+)

diff --git a/arch/arm/configs/tegra_defconfig b/arch/arm/configs/tegra_defconfig
index 63e7f3261e6d..ced01b114cd3 100644
--- a/arch/arm/configs/tegra_defconfig
+++ b/arch/arm/configs/tegra_defconfig
@@ -209,6 +209,7 @@ CONFIG_DRM_LVDS_CODEC=y
 # CONFIG_LCD_CLASS_DEVICE is not set
 CONFIG_BACKLIGHT_CLASS_DEVICE=y
 CONFIG_BACKLIGHT_PWM=y
+CONFIG_FB=y
 CONFIG_FRAMEBUFFER_CONSOLE=y
 CONFIG_FRAMEBUFFER_CONSOLE_ROTATION=y
 CONFIG_LOGO=y
-- 
2.31.1

