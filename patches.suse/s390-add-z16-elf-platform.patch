From: Heiko Carstens <hca@linux.ibm.com>
Date: Fri, 23 Jul 2021 19:45:53 +0200
Subject: s390: add z16 elf platform
Git-commit: 6203ac30297847ddc5e122ccdcbe9941fbc258e6
Patch-mainline: v5.18-rc3
References: git-fixes LTC#203789 bsc#1215956 LTC#203788 bsc#1215957

Add detection for machine types 0x3931 and 0x3932 and set ELF platform
name to z16.

Signed-off-by: Heiko Carstens <hca@linux.ibm.com>
Acked-by: Miroslav Franc <mfranc@suse.cz>
---
 arch/s390/kernel/setup.c |    4 ++++
 1 file changed, 4 insertions(+)

--- a/arch/s390/kernel/setup.c
+++ b/arch/s390/kernel/setup.c
@@ -917,6 +917,10 @@ static int __init setup_hwcaps(void)
 	case 0x8562:
 		strcpy(elf_platform, "z15");
 		break;
+	case 0x3931:
+	case 0x3932:
+		strcpy(elf_platform, "z16");
+		break;
 	}
 
 	/*
