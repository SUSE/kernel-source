From: Florent Revest <revest@chromium.org>
Date: Wed, 18 Dec 2024 15:33:34 +0100
Subject: af_unix: Add a prompt to CONFIG_AF_UNIX_OOB
Git-commit: 5155cbcdbf03f207095f9a3794942a25aa7e5f58
Patch-mainline: v6.14-rc1
References: bsc#1246093

This makes it possible to disable the MSG_OOB support in .config.

Signed-off-by: Florent Revest <revest@chromium.org>
Reviewed-by: Eric Dumazet <edumazet@google.com>
Link: https://patch.msgid.link/20241218143334.1507465-1-revest@chromium.org
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Acked-by: Michal Koutn√Ω <mkoutny@suse.com>
[mkoutny: adjust context for missing 99a7a5b9943ea ("af_unix: Remove CONFIG_UNIX_SCM.")]
---
 net/unix/Kconfig |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

--- a/net/unix/Kconfig
+++ b/net/unix/Kconfig
@@ -26,9 +26,11 @@ config UNIX_SCM
 	default y
 
 config	AF_UNIX_OOB
-	bool
+	bool "UNIX: out-of-bound messages"
 	depends on UNIX
 	default y
+	help
+	  Support for MSG_OOB in UNIX domain sockets. If unsure, say Y.
 
 config UNIX_DIAG
 	tristate "UNIX: socket monitoring interface"
