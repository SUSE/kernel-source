From 4032a2d35dea33d6a13b8c2946dbb5de6a2503bb Mon Sep 17 00:00:00 2001
From: Konstantin Shelekhin <k.shelekhin@yadro.com>
Date: Tue, 19 Apr 2022 00:26:22 +0300
Subject: [PATCH] scsi: target: core: Silence the message about unknown VPD
 pages
References: bsc#1221252
Git-commit: 95af09fabf3782be9728a6af6461f6937cd8e528
Patch-mainline: v5.19-rc1

Target does not support some VPD pages and is very verbose about it.
Sometimes initiators don't bother and just keep sending the same request
from time to time, filling up the logs.

This patch lowers the message priority to debug.

Link: https://lore.kernel.org/r/20220418212622.275516-1-k.shelekhin@yadro.com
Signed-off-by: Konstantin Shelekhin <k.shelekhin@yadro.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Acked-by: David Disseldorp <ddiss@suse.de>

---
 drivers/target/target_core_spc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/target/target_core_spc.c b/drivers/target/target_core_spc.c
index 22703a0dbd072..55b3d73c7f597 100644
--- a/drivers/target/target_core_spc.c
+++ b/drivers/target/target_core_spc.c
@@ -769,7 +769,7 @@ spc_emulate_inquiry(struct se_cmd *cmd)
 		}
 	}
 
-	pr_err("Unknown VPD Code: 0x%02x\n", cdb[2]);
+	pr_debug("Unknown VPD Code: 0x%02x\n", cdb[2]);
 	ret = TCM_INVALID_CDB_FIELD;
 
 out:
-- 
2.44.0

