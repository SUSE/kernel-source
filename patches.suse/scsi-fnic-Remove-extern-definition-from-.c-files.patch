From: Karan Tilak Kumar <kartilak@cisco.com>
Date: Mon, 6 Jan 2025 14:44:50 -0800
Subject: scsi: fnic: Remove extern definition from .c files
Git-commit: 6cfba11510d6f4d0e863fc0fa939c7a983cf13bd
Patch-mainline: v6.14-rc1
References: jsc#PED-12186

Implement review comments from Martin:
    Remove extern definition of fnic_fip_queue from .c files

Reviewed-by: Sesidhar Baddela <sebaddel@cisco.com>
Reviewed-by: Arulprabhu Ponnusamy <arulponn@cisco.com>
Reviewed-by: Gian Carlo Boffa <gcboffa@cisco.com>
Reviewed-by: Arun Easi <aeasi@cisco.com>
Signed-off-by: Karan Tilak Kumar <kartilak@cisco.com>
Link: https://lore.kernel.org/r/20250106224451.3597-2-kartilak@cisco.com
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Acked-by: Lee Duncan <lduncan@suse.com>
---
 drivers/scsi/fnic/fip.c      | 2 --
 drivers/scsi/fnic/fip.h      | 2 ++
 drivers/scsi/fnic/fnic_fcs.c | 1 -
 3 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/drivers/scsi/fnic/fip.c b/drivers/scsi/fnic/fip.c
index 161075e3bb95..aaf5f768a9bd 100644
--- a/drivers/scsi/fnic/fip.c
+++ b/drivers/scsi/fnic/fip.c
@@ -7,8 +7,6 @@
 #include "fip.h"
 #include <linux/etherdevice.h>
 
-extern struct workqueue_struct *fnic_fip_queue;
-
 #define FIP_FNIC_RESET_WAIT_COUNT 15
 
 /**
diff --git a/drivers/scsi/fnic/fip.h b/drivers/scsi/fnic/fip.h
index c62993c76dc7..79fee7628870 100644
--- a/drivers/scsi/fnic/fip.h
+++ b/drivers/scsi/fnic/fip.h
@@ -131,6 +131,8 @@ void fnic_fcoe_start_flogi(struct fnic *fnic);
 void fnic_fcoe_process_cvl(struct fnic *fnic, struct fip_header *fiph);
 void fnic_vlan_discovery_timeout(struct fnic *fnic);
 
+extern struct workqueue_struct *fnic_fip_queue;
+
 #ifdef FNIC_DEBUG
 static inline void
 fnic_debug_dump_fip_frame(struct fnic *fnic, struct ethhdr *eth,
diff --git a/drivers/scsi/fnic/fnic_fcs.c b/drivers/scsi/fnic/fnic_fcs.c
index 471d4a7553bf..1e8cd64f9a5c 100644
--- a/drivers/scsi/fnic/fnic_fcs.c
+++ b/drivers/scsi/fnic/fnic_fcs.c
@@ -27,7 +27,6 @@
 
 #define MAX_RESET_WAIT_COUNT    64
 
-extern struct workqueue_struct *fnic_fip_queue;
 struct workqueue_struct *fnic_event_queue;
 
 static uint8_t FCOE_ALL_FCF_MAC[6] = FC_FCOE_FLOGI_MAC;

