From 51906dd173b2bd3bdd93a899e4ef7fd667a8d2d1 Mon Sep 17 00:00:00 2001
From: David Heidelberg <david@ixit.cz>
Date: Fri, 29 Oct 2021 16:11:33 +0200
Subject: [PATCH] dt-bindings: i2c: imx: hardware do not restrict clock-frequency to only 100 and 400 kHz
Git-commit: 51906dd173b2bd3bdd93a899e4ef7fd667a8d2d1
Patch-mainline: v5.16-rc1
References: git-fixes

clock-frequency is only restricted by the upper limit of 400 kHz.

Found with:
$ DT_SCHEMA_FILES=Documentation/devicetree/bindings/i2c/i2c-imx.yaml make dtbs_check
...
Arch/arm64/boot/dts/freescale/imx8mq-librem5-r2.dt.yaml: i2c@30a20000: clock-frequency:0:0: 387000 is not one of [100000, 400000]	From schema: linux/Documentation/devicetree/bindings/i2c/i2c-imx.yaml
...

Fixes: 4bdc44347299 ("dt-bindings: i2c: Convert imx i2c to json-schema")
Signed-off-by: David Heidelberg <david@ixit.cz>
Reviewed-by: Oleksij Rempel <o.rempel@pengutronix.de>
Link: https://lore.kernel.org/r/20211029141134.66170-1-david@ixit.cz
Signed-off-by: Rob Herring <robh@kernel.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 Documentation/devicetree/bindings/i2c/i2c-imx.yaml | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/Documentation/devicetree/bindings/i2c/i2c-imx.yaml b/Documentation/devicetree/bindings/i2c/i2c-imx.yaml
index 3592d49235e0..c167958ae2a9 100644
--- a/Documentation/devicetree/bindings/i2c/i2c-imx.yaml
+++ b/Documentation/devicetree/bindings/i2c/i2c-imx.yaml
@@ -57,7 +57,9 @@ properties:
     const: ipg
 
   clock-frequency:
-    enum: [ 100000, 400000 ]
+    minimum: 1
+    default: 100000
+    maximum: 400000
 
   dmas:
     items:
-- 
2.31.1

