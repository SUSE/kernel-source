From ed81cb9e05170646650359d729fb7e7afa4cb2ac Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig?= <u.kleine-koenig@pengutronix.de>
Date: Thu, 24 Aug 2023 22:02:19 +0200
Subject: [PATCH] ALSA: hda/tas2781: Switch back to use struct i2c_driver's .probe()
Mime-version: 1.0
Content-type: text/plain; charset=UTF-8
Content-transfer-encoding: 8bit
Git-commit: ed81cb9e05170646650359d729fb7e7afa4cb2ac
Patch-mainline: v6.6-rc1
References: jsc#PED-6045 jsc#PED-6036 jsc#PED-6104 jsc#PED-6114 jsc#PED-6067 jsc#PED-6123

struct i2c_driver::probe_new is about to go away. Switch the driver to
use the probe callback with the same prototype.

Signed-off-by: Uwe Kleine-KÃ¶nig <u.kleine-koenig@pengutronix.de>
Fixes: 5be27f1e3ec9 ("ALSA: hda/tas2781: Add tas2781 HDA driver")
Link: https://lore.kernel.org/r/20230824200219.9569-1-u.kleine-koenig@pengutronix.de
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/pci/hda/tas2781_hda_i2c.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/sound/pci/hda/tas2781_hda_i2c.c b/sound/pci/hda/tas2781_hda_i2c.c
index aa9ce3837336..37114fd61a38 100644
--- a/sound/pci/hda/tas2781_hda_i2c.c
+++ b/sound/pci/hda/tas2781_hda_i2c.c
@@ -845,7 +845,7 @@ static struct i2c_driver tas2781_hda_i2c_driver = {
 		.pm		= &tas2781_hda_pm_ops,
 	},
 	.id_table	= tas2781_hda_i2c_id,
-	.probe_new	= tas2781_hda_i2c_probe,
+	.probe		= tas2781_hda_i2c_probe,
 	.remove		= tas2781_hda_i2c_remove,
 };
 module_i2c_driver(tas2781_hda_i2c_driver);
-- 
2.35.3

