From affa9983e7cbac8cbe2596975efacdbdf0eb18e9 Mon Sep 17 00:00:00 2001
From: Shuming Fan <shumingf@realtek.com>
Date: Fri, 20 May 2022 17:02:05 +0800
Subject: [PATCH] ASoC: rt1308-sdw: add the default value of register 0xc320
Git-commit: affa9983e7cbac8cbe2596975efacdbdf0eb18e9
Patch-mainline: v5.19-rc1
References: jsc#PED-850

The driver missed the default value of register 0xc320.
This patch adds that default value to avoid the error messages
when the driver went to suspend mode already.

Buglink: https://github.com/thesofproject/linux/issues/3651
Signed-off-by: Shuming Fan <shumingf@realtek.com>
Link: https://lore.kernel.org/r/20220520090205.25857-1-shumingf@realtek.com
Signed-off-by: Mark Brown <broonie@kernel.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 sound/soc/codecs/rt1308-sdw.h | 1 +
 1 file changed, 1 insertion(+)

diff --git a/sound/soc/codecs/rt1308-sdw.h b/sound/soc/codecs/rt1308-sdw.h
index c5ce75666dcc..6668e19d85d4 100644
--- a/sound/soc/codecs/rt1308-sdw.h
+++ b/sound/soc/codecs/rt1308-sdw.h
@@ -140,6 +140,7 @@ static const struct reg_default rt1308_reg_defaults[] = {
 	{ 0x3008, 0x02 },
 	{ 0x300a, 0x00 },
 	{ 0xc003 | (RT1308_DAC_SET << 4), 0x00 },
+	{ 0xc000 | (RT1308_POWER << 4), 0x00 },
 	{ 0xc001 | (RT1308_POWER << 4), 0x00 },
 	{ 0xc002 | (RT1308_POWER << 4), 0x00 },
 };
-- 
2.35.3

