From: Peng Fan <peng.fan@nxp.com>
Date: Fri, 19 Apr 2024 11:37:00 +0800
Subject: [PATCH] arm64: dts: imx93: add nvmem property for fec1
References: bsc#1218260
Patch-mainline: 6.6.49
Git-commit: b2ab0edaf484d578e8d0c06093af0003586def72

[ Upstream commit b2ab0edaf484d578e8d0c06093af0003586def72 ]

Add nvmem property for fec1 to get mac address.

Signed-off-by: Peng Fan <peng.fan@nxp.com>
Signed-off-by: Shawn Guo <shawnguo@kernel.org>
Stable-dep-of: 109f256285dd ("arm64: dts: imx93: update default value for snps,clk-csr")
Signed-off-by: Sasha Levin <sashal@kernel.org>
Signed-off-by: Robert Frohl <rfrohl@suse.com>
---
 arch/arm64/boot/dts/freescale/imx93.dtsi | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/imx93.dtsi b/arch/arm64/boot/dts/freescale/imx93.dtsi
index 943b7e665563..1b7260d2a0ff 100644
--- a/arch/arm64/boot/dts/freescale/imx93.dtsi
+++ b/arch/arm64/boot/dts/freescale/imx93.dtsi
@@ -786,6 +786,8 @@ fec: ethernet@42890000 {
 				fsl,num-tx-queues = <3>;
 				fsl,num-rx-queues = <3>;
 				fsl,stop-mode = <&wakeupmix_gpr 0x0c 1>;
+				nvmem-cells = <&eth_mac1>;
+				nvmem-cell-names = "mac-address";
 				status = "disabled";
 			};
 
@@ -888,6 +890,11 @@ ocotp: efuse@47510000 {
 			reg = <0x47510000 0x10000>;
 			#address-cells = <1>;
 			#size-cells = <1>;
+
+			eth_mac1: mac-address@4ec {
+				reg = <0x4ec 0x6>;
+			};
+
 		};
 
 		s4muap: mailbox@47520000 {
-- 
2.46.0

