From 9c0393c5c73265105c35666400e68a8a27926b5b Mon Sep 17 00:00:00 2001
From: Michal Suchanek <msuchanek@suse.de>
Date: Sat, 19 Nov 2022 16:29:28 +0100
Subject: [PATCH] Fix offb kconfig dependencies.

References: offb
Patch-mainline: submitted https://lore.kernel.org/linux-kbuild/CAK7LNASBhTvzkjXuJDH8ePCVXnZ=GUYdNa-OU+QURbBp3oyEBQ@mail.gmail.com/

commit c8a17756c425 ("drm/ofdrm: Add ofdrm for Open Firmware framebuffers") breaks build, fix it.

Suggested-by: Masahiro Yamada <masahiroy@kernel.org>
Signed-off-by: Michal Suchanek <msuchanek@suse.de>
---
 drivers/video/fbdev/Kconfig | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/video/fbdev/Kconfig b/drivers/video/fbdev/Kconfig
index 66f36b69e8f3..2bcf8627819f 100644
--- a/drivers/video/fbdev/Kconfig
+++ b/drivers/video/fbdev/Kconfig
@@ -458,7 +458,7 @@ config FB_ATARI
 config FB_OF
 	bool "Open Firmware frame buffer device support"
 	depends on (FB = y) && PPC && (!PPC_PSERIES || PCI)
-	depends on !DRM_OFDRM
+	depends on DRM_OFDRM != y
 	select APERTURE_HELPERS
 	select FB_CFB_FILLRECT
 	select FB_CFB_COPYAREA
-- 
2.35.3

