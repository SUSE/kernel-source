From: Jiri Slaby <jslaby@suse.cz>
Date: Mon, 8 Jan 2024 12:33:58 +0100
Subject: Revert "minmax: allow comparisons of 'int' against 'unsigned
 char/short'"
Patch-mainline: not yet, a temporary solution
References: fix build and make it faster

This reverts commit 4ead534fba42fc4fd41163297528d2aa731cd121.

Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 include/linux/minmax.h |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

--- a/include/linux/minmax.h
+++ b/include/linux/minmax.h
@@ -26,9 +26,8 @@
 	__builtin_choose_expr(__is_constexpr(is_signed_type(typeof(x))),	\
 		is_signed_type(typeof(x)), 0)
 
-#define __types_ok(x, y) 			\
-	(__is_signed(x) == __is_signed(y) ||	\
-		__is_signed((x) + 0) == __is_signed((y) + 0))
+#define __types_ok(x, y) \
+	(__is_signed(x) == __is_signed(y))
 
 #define __cmp_op_min <
 #define __cmp_op_max >
